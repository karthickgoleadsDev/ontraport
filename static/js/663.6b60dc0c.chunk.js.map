{"version":3,"file":"static/js/663.6b60dc0c.chunk.js","mappings":"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","sources":["../node_modules/react-virtuoso/dist/index.mjs"],"sourcesContent":["import React from \"react\";\nimport ReactDOM from \"react-dom\";\nconst PUBLISH = 0;\nconst SUBSCRIBE = 1;\nconst RESET = 2;\nconst VALUE = 4;\nfunction compose(a, b) {\n  return (arg) => a(b(arg));\n}\nfunction thrush(arg, proc) {\n  return proc(arg);\n}\nfunction curry2to1(proc, arg1) {\n  return (arg2) => proc(arg1, arg2);\n}\nfunction curry1to0(proc, arg) {\n  return () => proc(arg);\n}\nfunction tap(arg, proc) {\n  proc(arg);\n  return arg;\n}\nfunction tup(...args) {\n  return args;\n}\nfunction call(proc) {\n  proc();\n}\nfunction always(value) {\n  return () => value;\n}\nfunction joinProc(...procs) {\n  return () => {\n    procs.map(call);\n  };\n}\nfunction isDefined(arg) {\n  return arg !== void 0;\n}\nfunction noop() {\n}\nfunction subscribe(emitter, subscription) {\n  return emitter(SUBSCRIBE, subscription);\n}\nfunction publish(publisher, value) {\n  publisher(PUBLISH, value);\n}\nfunction reset(emitter) {\n  emitter(RESET);\n}\nfunction getValue(depot) {\n  return depot(VALUE);\n}\nfunction connect(emitter, publisher) {\n  return subscribe(emitter, curry2to1(publisher, PUBLISH));\n}\nfunction handleNext(emitter, subscription) {\n  const unsub = emitter(SUBSCRIBE, (value) => {\n    unsub();\n    subscription(value);\n  });\n  return unsub;\n}\nfunction stream() {\n  const subscriptions = [];\n  return (action, arg) => {\n    switch (action) {\n      case RESET:\n        subscriptions.splice(0, subscriptions.length);\n        return;\n      case SUBSCRIBE:\n        subscriptions.push(arg);\n        return () => {\n          const indexOf = subscriptions.indexOf(arg);\n          if (indexOf > -1) {\n            subscriptions.splice(indexOf, 1);\n          }\n        };\n      case PUBLISH:\n        subscriptions.slice().forEach((subscription) => {\n          subscription(arg);\n        });\n        return;\n      default:\n        throw new Error(`unrecognized action ${action}`);\n    }\n  };\n}\nfunction statefulStream(initial) {\n  let value = initial;\n  const innerSubject = stream();\n  return (action, arg) => {\n    switch (action) {\n      case SUBSCRIBE:\n        const subscription = arg;\n        subscription(value);\n        break;\n      case PUBLISH:\n        value = arg;\n        break;\n      case VALUE:\n        return value;\n    }\n    return innerSubject(action, arg);\n  };\n}\nfunction eventHandler(emitter) {\n  let unsub;\n  let currentSubscription;\n  const cleanup = () => unsub && unsub();\n  return function(action, subscription) {\n    switch (action) {\n      case SUBSCRIBE:\n        if (subscription) {\n          if (currentSubscription === subscription) {\n            return;\n          }\n          cleanup();\n          currentSubscription = subscription;\n          unsub = subscribe(emitter, subscription);\n          return unsub;\n        } else {\n          cleanup();\n          return noop;\n        }\n      case RESET:\n        cleanup();\n        currentSubscription = null;\n        return;\n      default:\n        throw new Error(`unrecognized action ${action}`);\n    }\n  };\n}\nfunction streamFromEmitter(emitter) {\n  return tap(stream(), (stream2) => connect(emitter, stream2));\n}\nfunction statefulStreamFromEmitter(emitter, initial) {\n  return tap(statefulStream(initial), (stream2) => connect(emitter, stream2));\n}\nfunction combineOperators(...operators) {\n  return (subscriber) => {\n    return operators.reduceRight(thrush, subscriber);\n  };\n}\nfunction pipe(source, ...operators) {\n  const project = combineOperators(...operators);\n  return (action, subscription) => {\n    switch (action) {\n      case SUBSCRIBE:\n        return subscribe(source, project(subscription));\n      case RESET:\n        reset(source);\n        return;\n    }\n  };\n}\nfunction defaultComparator(previous, next) {\n  return previous === next;\n}\nfunction distinctUntilChanged(comparator = defaultComparator) {\n  let current;\n  return (done) => (next) => {\n    if (!comparator(current, next)) {\n      current = next;\n      done(next);\n    }\n  };\n}\nfunction filter(predicate) {\n  return (done) => (value) => {\n    predicate(value) && done(value);\n  };\n}\nfunction map(project) {\n  return (done) => compose(done, project);\n}\nfunction mapTo(value) {\n  return (done) => () => done(value);\n}\nfunction scan(scanner, initial) {\n  return (done) => (value) => done(initial = scanner(initial, value));\n}\nfunction skip(times) {\n  return (done) => (value) => {\n    times > 0 ? times-- : done(value);\n  };\n}\nfunction throttleTime(interval) {\n  let currentValue = null;\n  let timeout;\n  return (done) => (value) => {\n    currentValue = value;\n    if (timeout) {\n      return;\n    }\n    timeout = setTimeout(() => {\n      timeout = void 0;\n      done(currentValue);\n    }, interval);\n  };\n}\nfunction debounceTime(interval) {\n  let currentValue;\n  let timeout;\n  return (done) => (value) => {\n    currentValue = value;\n    if (timeout) {\n      clearTimeout(timeout);\n    }\n    timeout = setTimeout(() => {\n      done(currentValue);\n    }, interval);\n  };\n}\nfunction withLatestFrom(...sources) {\n  const values = new Array(sources.length);\n  let called = 0;\n  let pendingCall = null;\n  const allCalled = Math.pow(2, sources.length) - 1;\n  sources.forEach((source, index) => {\n    const bit = Math.pow(2, index);\n    subscribe(source, (value) => {\n      const prevCalled = called;\n      called = called | bit;\n      values[index] = value;\n      if (prevCalled !== allCalled && called === allCalled && pendingCall) {\n        pendingCall();\n        pendingCall = null;\n      }\n    });\n  });\n  return (done) => (value) => {\n    const call2 = () => done([value].concat(values));\n    if (called === allCalled) {\n      call2();\n    } else {\n      pendingCall = call2;\n    }\n  };\n}\nfunction merge(...sources) {\n  return function(action, subscription) {\n    switch (action) {\n      case SUBSCRIBE:\n        return joinProc(...sources.map((source) => subscribe(source, subscription)));\n      case RESET:\n        return;\n      default:\n        throw new Error(`unrecognized action ${action}`);\n    }\n  };\n}\nfunction duc(source, comparator = defaultComparator) {\n  return pipe(source, distinctUntilChanged(comparator));\n}\nfunction combineLatest(...emitters) {\n  const innerSubject = stream();\n  const values = new Array(emitters.length);\n  let called = 0;\n  const allCalled = Math.pow(2, emitters.length) - 1;\n  emitters.forEach((source, index) => {\n    const bit = Math.pow(2, index);\n    subscribe(source, (value) => {\n      values[index] = value;\n      called = called | bit;\n      if (called === allCalled) {\n        publish(innerSubject, values);\n      }\n    });\n  });\n  return function(action, subscription) {\n    switch (action) {\n      case SUBSCRIBE:\n        if (called === allCalled) {\n          subscription(values);\n        }\n        return subscribe(innerSubject, subscription);\n      case RESET:\n        return reset(innerSubject);\n      default:\n        throw new Error(`unrecognized action ${action}`);\n    }\n  };\n}\nfunction system(constructor, dependencies = [], { singleton } = { singleton: true }) {\n  return {\n    id: id(),\n    constructor,\n    dependencies,\n    singleton\n  };\n}\nconst id = () => Symbol();\nfunction init(systemSpec) {\n  const singletons = /* @__PURE__ */ new Map();\n  const _init = ({ id: id2, constructor, dependencies, singleton }) => {\n    if (singleton && singletons.has(id2)) {\n      return singletons.get(id2);\n    }\n    const system2 = constructor(dependencies.map((e) => _init(e)));\n    if (singleton) {\n      singletons.set(id2, system2);\n    }\n    return system2;\n  };\n  return _init(systemSpec);\n}\nfunction omit(keys, obj) {\n  const result = {};\n  const index = {};\n  let idx = 0;\n  const len = keys.length;\n  while (idx < len) {\n    index[keys[idx]] = 1;\n    idx += 1;\n  }\n  for (const prop in obj) {\n    if (!index.hasOwnProperty(prop)) {\n      result[prop] = obj[prop];\n    }\n  }\n  return result;\n}\nconst useIsomorphicLayoutEffect$2 = typeof document !== \"undefined\" ? React.useLayoutEffect : React.useEffect;\nfunction systemToComponent(systemSpec, map2, Root) {\n  const requiredPropNames = Object.keys(map2.required || {});\n  const optionalPropNames = Object.keys(map2.optional || {});\n  const methodNames = Object.keys(map2.methods || {});\n  const eventNames = Object.keys(map2.events || {});\n  const Context = React.createContext({});\n  function applyPropsToSystem(system2, props) {\n    if (system2[\"propsReady\"]) {\n      publish(system2[\"propsReady\"], false);\n    }\n    for (const requiredPropName of requiredPropNames) {\n      const stream2 = system2[map2.required[requiredPropName]];\n      publish(stream2, props[requiredPropName]);\n    }\n    for (const optionalPropName of optionalPropNames) {\n      if (optionalPropName in props) {\n        const stream2 = system2[map2.optional[optionalPropName]];\n        publish(stream2, props[optionalPropName]);\n      }\n    }\n    if (system2[\"propsReady\"]) {\n      publish(system2[\"propsReady\"], true);\n    }\n  }\n  function buildMethods(system2) {\n    return methodNames.reduce((acc, methodName) => {\n      acc[methodName] = (value) => {\n        const stream2 = system2[map2.methods[methodName]];\n        publish(stream2, value);\n      };\n      return acc;\n    }, {});\n  }\n  function buildEventHandlers(system2) {\n    return eventNames.reduce((handlers, eventName) => {\n      handlers[eventName] = eventHandler(system2[map2.events[eventName]]);\n      return handlers;\n    }, {});\n  }\n  const Component = React.forwardRef((propsWithChildren, ref) => {\n    const { children, ...props } = propsWithChildren;\n    const [system2] = React.useState(() => {\n      return tap(init(systemSpec), (system22) => applyPropsToSystem(system22, props));\n    });\n    const [handlers] = React.useState(curry1to0(buildEventHandlers, system2));\n    useIsomorphicLayoutEffect$2(() => {\n      for (const eventName of eventNames) {\n        if (eventName in props) {\n          subscribe(handlers[eventName], props[eventName]);\n        }\n      }\n      return () => {\n        Object.values(handlers).map(reset);\n      };\n    }, [props, handlers, system2]);\n    useIsomorphicLayoutEffect$2(() => {\n      applyPropsToSystem(system2, props);\n    });\n    React.useImperativeHandle(ref, always(buildMethods(system2)));\n    return React.createElement(\n      Context.Provider,\n      { value: system2 },\n      Root ? React.createElement(\n        Root,\n        omit([...requiredPropNames, ...optionalPropNames, ...eventNames], props),\n        children\n      ) : children\n    );\n  });\n  const usePublisher2 = (key) => {\n    return React.useCallback(curry2to1(publish, React.useContext(Context)[key]), [key]);\n  };\n  const useEmitterValue2 = (key) => {\n    const system2 = React.useContext(Context);\n    const source = system2[key];\n    const [value, setValue] = React.useState(curry1to0(getValue, source));\n    useIsomorphicLayoutEffect$2(\n      () => subscribe(source, (next) => {\n        if (next !== value) {\n          setValue(always(next));\n        }\n      }),\n      [source, value]\n    );\n    return value;\n  };\n  const useEmitter2 = (key, callback) => {\n    const context = React.useContext(Context);\n    const source = context[key];\n    useIsomorphicLayoutEffect$2(() => subscribe(source, callback), [callback, source]);\n  };\n  return {\n    Component,\n    usePublisher: usePublisher2,\n    useEmitterValue: useEmitterValue2,\n    useEmitter: useEmitter2\n  };\n}\nconst useIsomorphicLayoutEffect = typeof document !== \"undefined\" ? React.useLayoutEffect : React.useEffect;\nconst useIsomorphicLayoutEffect$1 = useIsomorphicLayoutEffect;\nvar LogLevel = /* @__PURE__ */ ((LogLevel2) => {\n  LogLevel2[LogLevel2[\"DEBUG\"] = 0] = \"DEBUG\";\n  LogLevel2[LogLevel2[\"INFO\"] = 1] = \"INFO\";\n  LogLevel2[LogLevel2[\"WARN\"] = 2] = \"WARN\";\n  LogLevel2[LogLevel2[\"ERROR\"] = 3] = \"ERROR\";\n  return LogLevel2;\n})(LogLevel || {});\nconst CONSOLE_METHOD_MAP = {\n  [\n    0\n    /* DEBUG */\n  ]: \"debug\",\n  [\n    1\n    /* INFO */\n  ]: \"log\",\n  [\n    2\n    /* WARN */\n  ]: \"warn\",\n  [\n    3\n    /* ERROR */\n  ]: \"error\"\n};\nconst getGlobalThis = () => typeof globalThis === \"undefined\" ? window : globalThis;\nconst loggerSystem = system(\n  () => {\n    const logLevel = statefulStream(\n      3\n      /* ERROR */\n    );\n    const log = statefulStream((label, message, level = 1) => {\n      var _a;\n      const currentLevel = (_a = getGlobalThis()[\"VIRTUOSO_LOG_LEVEL\"]) != null ? _a : getValue(logLevel);\n      if (level >= currentLevel) {\n        console[CONSOLE_METHOD_MAP[level]](\n          \"%creact-virtuoso: %c%s %o\",\n          \"color: #0253b3; font-weight: bold\",\n          \"color: initial\",\n          label,\n          message\n        );\n      }\n    });\n    return {\n      log,\n      logLevel\n    };\n  },\n  [],\n  { singleton: true }\n);\nfunction useSizeWithElRef(callback, enabled = true) {\n  const ref = React.useRef(null);\n  let callbackRef = (_el) => {\n  };\n  if (typeof ResizeObserver !== \"undefined\") {\n    const observer = React.useMemo(() => {\n      return new ResizeObserver((entries) => {\n        const element = entries[0].target;\n        if (element.offsetParent !== null) {\n          callback(element);\n        }\n      });\n    }, [callback]);\n    callbackRef = (elRef) => {\n      if (elRef && enabled) {\n        observer.observe(elRef);\n        ref.current = elRef;\n      } else {\n        if (ref.current) {\n          observer.unobserve(ref.current);\n        }\n        ref.current = null;\n      }\n    };\n  }\n  return { ref, callbackRef };\n}\nfunction useSize(callback, enabled = true) {\n  return useSizeWithElRef(callback, enabled).callbackRef;\n}\nfunction useChangedListContentsSizes(callback, itemSize, enabled, scrollContainerStateCallback, log, gap, customScrollParent) {\n  const memoedCallback = React.useCallback(\n    (el) => {\n      const ranges = getChangedChildSizes(el.children, itemSize, \"offsetHeight\", log);\n      let scrollableElement = el.parentElement;\n      while (!scrollableElement.dataset[\"virtuosoScroller\"]) {\n        scrollableElement = scrollableElement.parentElement;\n      }\n      const windowScrolling = scrollableElement.lastElementChild.dataset[\"viewportType\"] === \"window\";\n      const scrollTop = customScrollParent ? customScrollParent.scrollTop : windowScrolling ? window.pageYOffset || document.documentElement.scrollTop : scrollableElement.scrollTop;\n      const scrollHeight = customScrollParent ? customScrollParent.scrollHeight : windowScrolling ? document.documentElement.scrollHeight : scrollableElement.scrollHeight;\n      const viewportHeight = customScrollParent ? customScrollParent.offsetHeight : windowScrolling ? window.innerHeight : scrollableElement.offsetHeight;\n      scrollContainerStateCallback({\n        scrollTop: Math.max(scrollTop, 0),\n        scrollHeight,\n        viewportHeight\n      });\n      gap == null ? void 0 : gap(resolveGapValue$1(\"row-gap\", getComputedStyle(el).rowGap, log));\n      if (ranges !== null) {\n        callback(ranges);\n      }\n    },\n    [callback, itemSize, log, gap, customScrollParent, scrollContainerStateCallback]\n  );\n  return useSizeWithElRef(memoedCallback, enabled);\n}\nfunction getChangedChildSizes(children, itemSize, field, log) {\n  const length = children.length;\n  if (length === 0) {\n    return null;\n  }\n  const results = [];\n  for (let i = 0; i < length; i++) {\n    const child = children.item(i);\n    if (!child || child.dataset.index === void 0) {\n      continue;\n    }\n    const index = parseInt(child.dataset.index);\n    const knownSize = parseFloat(child.dataset.knownSize);\n    const size = itemSize(child, field);\n    if (size === 0) {\n      log(\"Zero-sized element, this should not happen\", { child }, LogLevel.ERROR);\n    }\n    if (size === knownSize) {\n      continue;\n    }\n    const lastResult = results[results.length - 1];\n    if (results.length === 0 || lastResult.size !== size || lastResult.endIndex !== index - 1) {\n      results.push({ startIndex: index, endIndex: index, size });\n    } else {\n      results[results.length - 1].endIndex++;\n    }\n  }\n  return results;\n}\nfunction resolveGapValue$1(property, value, log) {\n  if (value !== \"normal\" && !(value == null ? void 0 : value.endsWith(\"px\"))) {\n    log(`${property} was not resolved to pixel value correctly`, value, LogLevel.WARN);\n  }\n  if (value === \"normal\") {\n    return 0;\n  }\n  return parseInt(value != null ? value : \"0\", 10);\n}\nfunction correctItemSize(el, dimension) {\n  return Math.round(el.getBoundingClientRect()[dimension]);\n}\nfunction approximatelyEqual(num1, num2) {\n  return Math.abs(num1 - num2) < 1.01;\n}\nfunction useScrollTop(scrollContainerStateCallback, smoothScrollTargetReached, scrollerElement, scrollerRefCallback = noop, customScrollParent) {\n  const scrollerRef = React.useRef(null);\n  const scrollTopTarget = React.useRef(null);\n  const timeoutRef = React.useRef(null);\n  const handler = React.useCallback(\n    (ev) => {\n      const el = ev.target;\n      const windowScroll = el === window || el === document;\n      const scrollTop = windowScroll ? window.pageYOffset || document.documentElement.scrollTop : el.scrollTop;\n      const scrollHeight = windowScroll ? document.documentElement.scrollHeight : el.scrollHeight;\n      const viewportHeight = windowScroll ? window.innerHeight : el.offsetHeight;\n      const call2 = () => {\n        scrollContainerStateCallback({\n          scrollTop: Math.max(scrollTop, 0),\n          scrollHeight,\n          viewportHeight\n        });\n      };\n      if (ev.suppressFlushSync) {\n        call2();\n      } else {\n        ReactDOM.flushSync(call2);\n      }\n      if (scrollTopTarget.current !== null) {\n        if (scrollTop === scrollTopTarget.current || scrollTop <= 0 || scrollTop === scrollHeight - viewportHeight) {\n          scrollTopTarget.current = null;\n          smoothScrollTargetReached(true);\n          if (timeoutRef.current) {\n            clearTimeout(timeoutRef.current);\n            timeoutRef.current = null;\n          }\n        }\n      }\n    },\n    [scrollContainerStateCallback, smoothScrollTargetReached]\n  );\n  React.useEffect(() => {\n    const localRef = customScrollParent ? customScrollParent : scrollerRef.current;\n    scrollerRefCallback(customScrollParent ? customScrollParent : scrollerRef.current);\n    handler({ target: localRef, suppressFlushSync: true });\n    localRef.addEventListener(\"scroll\", handler, { passive: true });\n    return () => {\n      scrollerRefCallback(null);\n      localRef.removeEventListener(\"scroll\", handler);\n    };\n  }, [scrollerRef, handler, scrollerElement, scrollerRefCallback, customScrollParent]);\n  function scrollToCallback(location) {\n    const scrollerElement2 = scrollerRef.current;\n    if (!scrollerElement2 || \"offsetHeight\" in scrollerElement2 && scrollerElement2.offsetHeight === 0) {\n      return;\n    }\n    const isSmooth = location.behavior === \"smooth\";\n    let offsetHeight;\n    let scrollHeight;\n    let scrollTop;\n    if (scrollerElement2 === window) {\n      scrollHeight = Math.max(correctItemSize(document.documentElement, \"height\"), document.documentElement.scrollHeight);\n      offsetHeight = window.innerHeight;\n      scrollTop = document.documentElement.scrollTop;\n    } else {\n      scrollHeight = scrollerElement2.scrollHeight;\n      offsetHeight = correctItemSize(scrollerElement2, \"height\");\n      scrollTop = scrollerElement2.scrollTop;\n    }\n    const maxScrollTop = scrollHeight - offsetHeight;\n    location.top = Math.ceil(Math.max(Math.min(maxScrollTop, location.top), 0));\n    if (approximatelyEqual(offsetHeight, scrollHeight) || location.top === scrollTop) {\n      scrollContainerStateCallback({ scrollTop, scrollHeight, viewportHeight: offsetHeight });\n      if (isSmooth) {\n        smoothScrollTargetReached(true);\n      }\n      return;\n    }\n    if (isSmooth) {\n      scrollTopTarget.current = location.top;\n      if (timeoutRef.current) {\n        clearTimeout(timeoutRef.current);\n      }\n      timeoutRef.current = setTimeout(() => {\n        timeoutRef.current = null;\n        scrollTopTarget.current = null;\n        smoothScrollTargetReached(true);\n      }, 1e3);\n    } else {\n      scrollTopTarget.current = null;\n    }\n    scrollerElement2.scrollTo(location);\n  }\n  function scrollByCallback(location) {\n    scrollerRef.current.scrollBy(location);\n  }\n  return { scrollerRef, scrollByCallback, scrollToCallback };\n}\nconst domIOSystem = system(\n  () => {\n    const scrollContainerState = stream();\n    const scrollTop = stream();\n    const deviation = statefulStream(0);\n    const smoothScrollTargetReached = stream();\n    const statefulScrollTop = statefulStream(0);\n    const viewportHeight = stream();\n    const scrollHeight = stream();\n    const headerHeight = statefulStream(0);\n    const fixedHeaderHeight = statefulStream(0);\n    const fixedFooterHeight = statefulStream(0);\n    const footerHeight = statefulStream(0);\n    const scrollTo = stream();\n    const scrollBy = stream();\n    const scrollingInProgress = statefulStream(false);\n    connect(\n      pipe(\n        scrollContainerState,\n        map(({ scrollTop: scrollTop2 }) => scrollTop2)\n      ),\n      scrollTop\n    );\n    connect(\n      pipe(\n        scrollContainerState,\n        map(({ scrollHeight: scrollHeight2 }) => scrollHeight2)\n      ),\n      scrollHeight\n    );\n    connect(scrollTop, statefulScrollTop);\n    return {\n      // input\n      scrollContainerState,\n      scrollTop,\n      viewportHeight,\n      headerHeight,\n      fixedHeaderHeight,\n      fixedFooterHeight,\n      footerHeight,\n      scrollHeight,\n      smoothScrollTargetReached,\n      // signals\n      scrollTo,\n      scrollBy,\n      // state\n      statefulScrollTop,\n      deviation,\n      scrollingInProgress\n    };\n  },\n  [],\n  { singleton: true }\n);\nconst NIL_NODE = { lvl: 0 };\nfunction newAANode(k, v, lvl, l = NIL_NODE, r = NIL_NODE) {\n  return { k, v, lvl, l, r };\n}\nfunction empty(node) {\n  return node === NIL_NODE;\n}\nfunction newTree() {\n  return NIL_NODE;\n}\nfunction remove(node, key) {\n  if (empty(node))\n    return NIL_NODE;\n  const { k, l, r } = node;\n  if (key === k) {\n    if (empty(l)) {\n      return r;\n    } else if (empty(r)) {\n      return l;\n    } else {\n      const [lastKey, lastValue] = last(l);\n      return adjust(clone(node, { k: lastKey, v: lastValue, l: deleteLast(l) }));\n    }\n  } else if (key < k) {\n    return adjust(clone(node, { l: remove(l, key) }));\n  } else {\n    return adjust(clone(node, { r: remove(r, key) }));\n  }\n}\nfunction find(node, key) {\n  if (empty(node)) {\n    return;\n  }\n  if (key === node.k) {\n    return node.v;\n  } else if (key < node.k) {\n    return find(node.l, key);\n  } else {\n    return find(node.r, key);\n  }\n}\nfunction findMaxKeyValue(node, value, field = \"k\") {\n  if (empty(node)) {\n    return [-Infinity, void 0];\n  }\n  if (Number(node[field]) === value) {\n    return [node.k, node.v];\n  }\n  if (Number(node[field]) < value) {\n    const r = findMaxKeyValue(node.r, value, field);\n    if (r[0] === -Infinity) {\n      return [node.k, node.v];\n    } else {\n      return r;\n    }\n  }\n  return findMaxKeyValue(node.l, value, field);\n}\nfunction insert(node, k, v) {\n  if (empty(node)) {\n    return newAANode(k, v, 1);\n  }\n  if (k === node.k) {\n    return clone(node, { k, v });\n  } else if (k < node.k) {\n    return rebalance(clone(node, { l: insert(node.l, k, v) }));\n  } else {\n    return rebalance(clone(node, { r: insert(node.r, k, v) }));\n  }\n}\nfunction walkWithin(node, start, end) {\n  if (empty(node)) {\n    return [];\n  }\n  const { k, v, l, r } = node;\n  let result = [];\n  if (k > start) {\n    result = result.concat(walkWithin(l, start, end));\n  }\n  if (k >= start && k <= end) {\n    result.push({ k, v });\n  }\n  if (k <= end) {\n    result = result.concat(walkWithin(r, start, end));\n  }\n  return result;\n}\nfunction walk(node) {\n  if (empty(node)) {\n    return [];\n  }\n  return [...walk(node.l), { k: node.k, v: node.v }, ...walk(node.r)];\n}\nfunction last(node) {\n  return empty(node.r) ? [node.k, node.v] : last(node.r);\n}\nfunction deleteLast(node) {\n  return empty(node.r) ? node.l : adjust(clone(node, { r: deleteLast(node.r) }));\n}\nfunction clone(node, args) {\n  return newAANode(\n    args.k !== void 0 ? args.k : node.k,\n    args.v !== void 0 ? args.v : node.v,\n    args.lvl !== void 0 ? args.lvl : node.lvl,\n    args.l !== void 0 ? args.l : node.l,\n    args.r !== void 0 ? args.r : node.r\n  );\n}\nfunction isSingle(node) {\n  return empty(node) || node.lvl > node.r.lvl;\n}\nfunction rebalance(node) {\n  return split(skew(node));\n}\nfunction adjust(node) {\n  const { l, r, lvl } = node;\n  if (r.lvl >= lvl - 1 && l.lvl >= lvl - 1) {\n    return node;\n  } else if (lvl > r.lvl + 1) {\n    if (isSingle(l)) {\n      return skew(clone(node, { lvl: lvl - 1 }));\n    } else {\n      if (!empty(l) && !empty(l.r)) {\n        return clone(l.r, {\n          l: clone(l, { r: l.r.l }),\n          r: clone(node, {\n            l: l.r.r,\n            lvl: lvl - 1\n          }),\n          lvl\n        });\n      } else {\n        throw new Error(\"Unexpected empty nodes\");\n      }\n    }\n  } else {\n    if (isSingle(node)) {\n      return split(clone(node, { lvl: lvl - 1 }));\n    } else {\n      if (!empty(r) && !empty(r.l)) {\n        const rl = r.l;\n        const rlvl = isSingle(rl) ? r.lvl - 1 : r.lvl;\n        return clone(rl, {\n          l: clone(node, {\n            r: rl.l,\n            lvl: lvl - 1\n          }),\n          r: split(clone(r, { l: rl.r, lvl: rlvl })),\n          lvl: rl.lvl + 1\n        });\n      } else {\n        throw new Error(\"Unexpected empty nodes\");\n      }\n    }\n  }\n}\nfunction rangesWithin(node, startIndex, endIndex) {\n  if (empty(node)) {\n    return [];\n  }\n  const adjustedStart = findMaxKeyValue(node, startIndex)[0];\n  return toRanges(walkWithin(node, adjustedStart, endIndex));\n}\nfunction arrayToRanges(items, parser) {\n  const length = items.length;\n  if (length === 0) {\n    return [];\n  }\n  let { index: start, value } = parser(items[0]);\n  const result = [];\n  for (let i = 1; i < length; i++) {\n    const { index: nextIndex, value: nextValue } = parser(items[i]);\n    result.push({ start, end: nextIndex - 1, value });\n    start = nextIndex;\n    value = nextValue;\n  }\n  result.push({ start, end: Infinity, value });\n  return result;\n}\nfunction toRanges(nodes) {\n  return arrayToRanges(nodes, ({ k: index, v: value }) => ({ index, value }));\n}\nfunction split(node) {\n  const { r, lvl } = node;\n  return !empty(r) && !empty(r.r) && r.lvl === lvl && r.r.lvl === lvl ? clone(r, { l: clone(node, { r: r.l }), lvl: lvl + 1 }) : node;\n}\nfunction skew(node) {\n  const { l } = node;\n  return !empty(l) && l.lvl === node.lvl ? clone(l, { r: clone(node, { l: l.r }) }) : node;\n}\nfunction findIndexOfClosestSmallerOrEqual(items, value, comparator, start = 0) {\n  let end = items.length - 1;\n  while (start <= end) {\n    const index = Math.floor((start + end) / 2);\n    const item = items[index];\n    const match = comparator(item, value);\n    if (match === 0) {\n      return index;\n    }\n    if (match === -1) {\n      if (end - start < 2) {\n        return index - 1;\n      }\n      end = index - 1;\n    } else {\n      if (end === start) {\n        return index;\n      }\n      start = index + 1;\n    }\n  }\n  throw new Error(`Failed binary finding record in array - ${items.join(\",\")}, searched for ${value}`);\n}\nfunction findClosestSmallerOrEqual(items, value, comparator) {\n  return items[findIndexOfClosestSmallerOrEqual(items, value, comparator)];\n}\nfunction findRange(items, startValue, endValue, comparator) {\n  const startIndex = findIndexOfClosestSmallerOrEqual(items, startValue, comparator);\n  const endIndex = findIndexOfClosestSmallerOrEqual(items, endValue, comparator, startIndex);\n  return items.slice(startIndex, endIndex + 1);\n}\nconst recalcSystem = system(\n  () => {\n    const recalcInProgress = statefulStream(false);\n    return { recalcInProgress };\n  },\n  [],\n  { singleton: true }\n);\nfunction rangeIncludes(refRange) {\n  const { size, startIndex, endIndex } = refRange;\n  return (range) => {\n    return range.start === startIndex && (range.end === endIndex || range.end === Infinity) && range.value === size;\n  };\n}\nfunction affectedGroupCount(offset, groupIndices) {\n  let recognizedOffsetItems = 0;\n  let groupIndex = 0;\n  while (recognizedOffsetItems < offset) {\n    recognizedOffsetItems += groupIndices[groupIndex + 1] - groupIndices[groupIndex] - 1;\n    groupIndex++;\n  }\n  const offsetIsExact = recognizedOffsetItems === offset;\n  return groupIndex - (offsetIsExact ? 0 : 1);\n}\nfunction insertRanges(sizeTree, ranges) {\n  let syncStart = empty(sizeTree) ? 0 : Infinity;\n  for (const range of ranges) {\n    const { size, startIndex, endIndex } = range;\n    syncStart = Math.min(syncStart, startIndex);\n    if (empty(sizeTree)) {\n      sizeTree = insert(sizeTree, 0, size);\n      continue;\n    }\n    const overlappingRanges = rangesWithin(sizeTree, startIndex - 1, endIndex + 1);\n    if (overlappingRanges.some(rangeIncludes(range))) {\n      continue;\n    }\n    let firstPassDone = false;\n    let shouldInsert = false;\n    for (const { start: rangeStart, end: rangeEnd, value: rangeValue } of overlappingRanges) {\n      if (!firstPassDone) {\n        shouldInsert = rangeValue !== size;\n        firstPassDone = true;\n      } else {\n        if (endIndex >= rangeStart || size === rangeValue) {\n          sizeTree = remove(sizeTree, rangeStart);\n        }\n      }\n      if (rangeEnd > endIndex && endIndex >= rangeStart) {\n        if (rangeValue !== size) {\n          sizeTree = insert(sizeTree, endIndex + 1, rangeValue);\n        }\n      }\n    }\n    if (shouldInsert) {\n      sizeTree = insert(sizeTree, startIndex, size);\n    }\n  }\n  return [sizeTree, syncStart];\n}\nfunction initialSizeState() {\n  return {\n    offsetTree: [],\n    sizeTree: newTree(),\n    groupOffsetTree: newTree(),\n    lastIndex: 0,\n    lastOffset: 0,\n    lastSize: 0,\n    groupIndices: []\n  };\n}\nfunction indexComparator({ index: itemIndex }, index) {\n  return index === itemIndex ? 0 : index < itemIndex ? -1 : 1;\n}\nfunction offsetComparator({ offset: itemOffset }, offset) {\n  return offset === itemOffset ? 0 : offset < itemOffset ? -1 : 1;\n}\nfunction offsetPointParser(point) {\n  return { index: point.index, value: point };\n}\nfunction rangesWithinOffsets(tree, startOffset, endOffset, minStartIndex = 0) {\n  if (minStartIndex > 0) {\n    startOffset = Math.max(startOffset, findClosestSmallerOrEqual(tree, minStartIndex, indexComparator).offset);\n  }\n  return arrayToRanges(findRange(tree, startOffset, endOffset, offsetComparator), offsetPointParser);\n}\nfunction createOffsetTree(prevOffsetTree, syncStart, sizeTree, gap) {\n  let offsetTree = prevOffsetTree;\n  let prevIndex = 0;\n  let prevSize = 0;\n  let prevOffset = 0;\n  let startIndex = 0;\n  if (syncStart !== 0) {\n    startIndex = findIndexOfClosestSmallerOrEqual(offsetTree, syncStart - 1, indexComparator);\n    const offsetInfo = offsetTree[startIndex];\n    prevOffset = offsetInfo.offset;\n    const kv = findMaxKeyValue(sizeTree, syncStart - 1);\n    prevIndex = kv[0];\n    prevSize = kv[1];\n    if (offsetTree.length && offsetTree[startIndex].size === findMaxKeyValue(sizeTree, syncStart)[1]) {\n      startIndex -= 1;\n    }\n    offsetTree = offsetTree.slice(0, startIndex + 1);\n  } else {\n    offsetTree = [];\n  }\n  for (const { start: startIndex2, value } of rangesWithin(sizeTree, syncStart, Infinity)) {\n    const indexOffset = startIndex2 - prevIndex;\n    const aOffset = indexOffset * prevSize + prevOffset + indexOffset * gap;\n    offsetTree.push({\n      offset: aOffset,\n      size: value,\n      index: startIndex2\n    });\n    prevIndex = startIndex2;\n    prevOffset = aOffset;\n    prevSize = value;\n  }\n  return {\n    offsetTree,\n    lastIndex: prevIndex,\n    lastOffset: prevOffset,\n    lastSize: prevSize\n  };\n}\nfunction sizeStateReducer(state, [ranges, groupIndices, log, gap]) {\n  if (ranges.length > 0) {\n    log(\"received item sizes\", ranges, LogLevel.DEBUG);\n  }\n  const sizeTree = state.sizeTree;\n  let newSizeTree = sizeTree;\n  let syncStart = 0;\n  if (groupIndices.length > 0 && empty(sizeTree) && ranges.length === 2) {\n    const groupSize = ranges[0].size;\n    const itemSize = ranges[1].size;\n    newSizeTree = groupIndices.reduce((tree, groupIndex) => {\n      return insert(insert(tree, groupIndex, groupSize), groupIndex + 1, itemSize);\n    }, newSizeTree);\n  } else {\n    [newSizeTree, syncStart] = insertRanges(newSizeTree, ranges);\n  }\n  if (newSizeTree === sizeTree) {\n    return state;\n  }\n  const { offsetTree: newOffsetTree, lastIndex, lastSize, lastOffset } = createOffsetTree(state.offsetTree, syncStart, newSizeTree, gap);\n  return {\n    sizeTree: newSizeTree,\n    offsetTree: newOffsetTree,\n    lastIndex,\n    lastOffset,\n    lastSize,\n    groupOffsetTree: groupIndices.reduce((tree, index) => {\n      return insert(tree, index, offsetOf(index, newOffsetTree, gap));\n    }, newTree()),\n    groupIndices\n  };\n}\nfunction offsetOf(index, tree, gap) {\n  if (tree.length === 0) {\n    return 0;\n  }\n  const { offset, index: startIndex, size } = findClosestSmallerOrEqual(tree, index, indexComparator);\n  const itemCount = index - startIndex;\n  const top = size * itemCount + (itemCount - 1) * gap + offset;\n  return top > 0 ? top + gap : top;\n}\nfunction isGroupLocation(location) {\n  return typeof location.groupIndex !== \"undefined\";\n}\nfunction originalIndexFromLocation(location, sizes, lastIndex) {\n  if (isGroupLocation(location)) {\n    return sizes.groupIndices[location.groupIndex] + 1;\n  } else {\n    const numericIndex = location.index === \"LAST\" ? lastIndex : location.index;\n    let result = originalIndexFromItemIndex(numericIndex, sizes);\n    result = Math.max(0, result, Math.min(lastIndex, result));\n    return result;\n  }\n}\nfunction originalIndexFromItemIndex(itemIndex, sizes) {\n  if (!hasGroups(sizes)) {\n    return itemIndex;\n  }\n  let groupOffset = 0;\n  while (sizes.groupIndices[groupOffset] <= itemIndex + groupOffset) {\n    groupOffset++;\n  }\n  return itemIndex + groupOffset;\n}\nfunction hasGroups(sizes) {\n  return !empty(sizes.groupOffsetTree);\n}\nfunction sizeTreeToRanges(sizeTree) {\n  return walk(sizeTree).map(({ k: startIndex, v: size }, index, sizeArray) => {\n    const nextSize = sizeArray[index + 1];\n    const endIndex = nextSize ? nextSize.k - 1 : Infinity;\n    return { startIndex, endIndex, size };\n  });\n}\nconst SIZE_MAP = {\n  offsetHeight: \"height\",\n  offsetWidth: \"width\"\n};\nconst sizeSystem = system(\n  ([{ log }, { recalcInProgress }]) => {\n    const sizeRanges = stream();\n    const totalCount = stream();\n    const statefulTotalCount = statefulStreamFromEmitter(totalCount, 0);\n    const unshiftWith = stream();\n    const shiftWith = stream();\n    const firstItemIndex = statefulStream(0);\n    const groupIndices = statefulStream([]);\n    const fixedItemSize = statefulStream(void 0);\n    const defaultItemSize = statefulStream(void 0);\n    const itemSize = statefulStream((el, field) => correctItemSize(el, SIZE_MAP[field]));\n    const data = statefulStream(void 0);\n    const gap = statefulStream(0);\n    const initial = initialSizeState();\n    const sizes = statefulStreamFromEmitter(\n      pipe(sizeRanges, withLatestFrom(groupIndices, log, gap), scan(sizeStateReducer, initial), distinctUntilChanged()),\n      initial\n    );\n    const prevGroupIndices = statefulStreamFromEmitter(\n      pipe(\n        groupIndices,\n        distinctUntilChanged(),\n        scan((prev, curr) => ({ prev: prev.current, current: curr }), {\n          prev: [],\n          current: []\n        }),\n        map(({ prev }) => prev)\n      ),\n      []\n    );\n    connect(\n      pipe(\n        groupIndices,\n        filter((indexes) => indexes.length > 0),\n        withLatestFrom(sizes, gap),\n        map(([groupIndices2, sizes2, gap2]) => {\n          const groupOffsetTree = groupIndices2.reduce((tree, index, idx) => {\n            return insert(tree, index, offsetOf(index, sizes2.offsetTree, gap2) || idx);\n          }, newTree());\n          return {\n            ...sizes2,\n            groupIndices: groupIndices2,\n            groupOffsetTree\n          };\n        })\n      ),\n      sizes\n    );\n    connect(\n      pipe(\n        totalCount,\n        withLatestFrom(sizes),\n        filter(([totalCount2, { lastIndex }]) => {\n          return totalCount2 < lastIndex;\n        }),\n        map(([totalCount2, { lastIndex, lastSize }]) => {\n          return [\n            {\n              startIndex: totalCount2,\n              endIndex: lastIndex,\n              size: lastSize\n            }\n          ];\n        })\n      ),\n      sizeRanges\n    );\n    connect(fixedItemSize, defaultItemSize);\n    const trackItemSizes = statefulStreamFromEmitter(\n      pipe(\n        fixedItemSize,\n        map((size) => size === void 0)\n      ),\n      true\n    );\n    connect(\n      pipe(\n        defaultItemSize,\n        filter((value) => {\n          return value !== void 0 && empty(getValue(sizes).sizeTree);\n        }),\n        map((size) => [{ startIndex: 0, endIndex: 0, size }])\n      ),\n      sizeRanges\n    );\n    const listRefresh = streamFromEmitter(\n      pipe(\n        sizeRanges,\n        withLatestFrom(sizes),\n        scan(\n          ({ sizes: oldSizes }, [_, newSizes]) => {\n            return {\n              changed: newSizes !== oldSizes,\n              sizes: newSizes\n            };\n          },\n          { changed: false, sizes: initial }\n        ),\n        map((value) => value.changed)\n      )\n    );\n    subscribe(\n      pipe(\n        firstItemIndex,\n        scan(\n          (prev, next) => {\n            return { diff: prev.prev - next, prev: next };\n          },\n          { diff: 0, prev: 0 }\n        ),\n        map((val) => val.diff)\n      ),\n      (offset) => {\n        const { groupIndices: groupIndices2 } = getValue(sizes);\n        if (offset > 0) {\n          publish(recalcInProgress, true);\n          publish(unshiftWith, offset + affectedGroupCount(offset, groupIndices2));\n        } else if (offset < 0) {\n          const prevGroupIndicesValue = getValue(prevGroupIndices);\n          if (prevGroupIndicesValue.length > 0) {\n            offset -= affectedGroupCount(-offset, prevGroupIndicesValue);\n          }\n          publish(shiftWith, offset);\n        }\n      }\n    );\n    subscribe(pipe(firstItemIndex, withLatestFrom(log)), ([index, log2]) => {\n      if (index < 0) {\n        log2(\n          \"`firstItemIndex` prop should not be set to less than zero. If you don't know the total count, just use a very high value\",\n          { firstItemIndex },\n          LogLevel.ERROR\n        );\n      }\n    });\n    const beforeUnshiftWith = streamFromEmitter(unshiftWith);\n    connect(\n      pipe(\n        unshiftWith,\n        withLatestFrom(sizes),\n        map(([unshiftWith2, sizes2]) => {\n          const groupedMode = sizes2.groupIndices.length > 0;\n          const initialRanges = [];\n          const defaultSize = sizes2.lastSize;\n          if (groupedMode) {\n            const firstGroupSize = find(sizes2.sizeTree, 0);\n            let prependedGroupItemsCount = 0;\n            let groupIndex = 0;\n            while (prependedGroupItemsCount < unshiftWith2) {\n              const theGroupIndex = sizes2.groupIndices[groupIndex];\n              const groupItemCount = sizes2.groupIndices.length === groupIndex + 1 ? Infinity : sizes2.groupIndices[groupIndex + 1] - theGroupIndex - 1;\n              initialRanges.push({\n                startIndex: theGroupIndex,\n                endIndex: theGroupIndex,\n                size: firstGroupSize\n              });\n              initialRanges.push({\n                startIndex: theGroupIndex + 1,\n                endIndex: theGroupIndex + 1 + groupItemCount - 1,\n                size: defaultSize\n              });\n              groupIndex++;\n              prependedGroupItemsCount += groupItemCount + 1;\n            }\n            const sizeTreeKV = walk(sizes2.sizeTree);\n            const firstGroupIsExpanded = prependedGroupItemsCount !== unshiftWith2;\n            if (firstGroupIsExpanded) {\n              sizeTreeKV.shift();\n            }\n            return sizeTreeKV.reduce(\n              (acc, { k: index, v: size }) => {\n                let ranges = acc.ranges;\n                if (acc.prevSize !== 0) {\n                  ranges = [\n                    ...acc.ranges,\n                    {\n                      startIndex: acc.prevIndex,\n                      endIndex: index + unshiftWith2 - 1,\n                      size: acc.prevSize\n                    }\n                  ];\n                }\n                return {\n                  ranges,\n                  prevIndex: index + unshiftWith2,\n                  prevSize: size\n                };\n              },\n              {\n                ranges: initialRanges,\n                prevIndex: unshiftWith2,\n                prevSize: 0\n              }\n            ).ranges;\n          }\n          return walk(sizes2.sizeTree).reduce(\n            (acc, { k: index, v: size }) => {\n              return {\n                ranges: [...acc.ranges, { startIndex: acc.prevIndex, endIndex: index + unshiftWith2 - 1, size: acc.prevSize }],\n                prevIndex: index + unshiftWith2,\n                prevSize: size\n              };\n            },\n            {\n              ranges: [],\n              prevIndex: 0,\n              prevSize: defaultSize\n            }\n          ).ranges;\n        })\n      ),\n      sizeRanges\n    );\n    const shiftWithOffset = streamFromEmitter(\n      pipe(\n        shiftWith,\n        withLatestFrom(sizes, gap),\n        map(([shiftWith2, { offsetTree }, gap2]) => {\n          const newFirstItemIndex = -shiftWith2;\n          return offsetOf(newFirstItemIndex, offsetTree, gap2);\n        })\n      )\n    );\n    connect(\n      pipe(\n        shiftWith,\n        withLatestFrom(sizes, gap),\n        map(([shiftWith2, sizes2, gap2]) => {\n          const groupedMode = sizes2.groupIndices.length > 0;\n          if (groupedMode) {\n            if (empty(sizes2.sizeTree)) {\n              return sizes2;\n            }\n            let newSizeTree = newTree();\n            const prevGroupIndicesValue = getValue(prevGroupIndices);\n            let removedItemsCount = 0;\n            let groupIndex = 0;\n            let groupOffset = 0;\n            while (removedItemsCount < -shiftWith2) {\n              groupOffset = prevGroupIndicesValue[groupIndex];\n              const groupItemCount = prevGroupIndicesValue[groupIndex + 1] - groupOffset - 1;\n              groupIndex++;\n              removedItemsCount += groupItemCount + 1;\n            }\n            newSizeTree = walk(sizes2.sizeTree).reduce((acc, { k, v }) => {\n              return insert(acc, Math.max(0, k + shiftWith2), v);\n            }, newSizeTree);\n            const aGroupIsShrunk = removedItemsCount !== -shiftWith2;\n            if (aGroupIsShrunk) {\n              const firstGroupSize = find(sizes2.sizeTree, groupOffset);\n              newSizeTree = insert(newSizeTree, 0, firstGroupSize);\n              const nextItemSize = findMaxKeyValue(sizes2.sizeTree, -shiftWith2 + 1)[1];\n              newSizeTree = insert(newSizeTree, 1, nextItemSize);\n            }\n            return {\n              ...sizes2,\n              sizeTree: newSizeTree,\n              ...createOffsetTree(sizes2.offsetTree, 0, newSizeTree, gap2)\n            };\n          } else {\n            const newSizeTree = walk(sizes2.sizeTree).reduce((acc, { k, v }) => {\n              return insert(acc, Math.max(0, k + shiftWith2), v);\n            }, newTree());\n            return {\n              ...sizes2,\n              sizeTree: newSizeTree,\n              ...createOffsetTree(sizes2.offsetTree, 0, newSizeTree, gap2)\n            };\n          }\n        })\n      ),\n      sizes\n    );\n    return {\n      // input\n      data,\n      totalCount,\n      sizeRanges,\n      groupIndices,\n      defaultItemSize,\n      fixedItemSize,\n      unshiftWith,\n      shiftWith,\n      shiftWithOffset,\n      beforeUnshiftWith,\n      firstItemIndex,\n      gap,\n      // output\n      sizes,\n      listRefresh,\n      statefulTotalCount,\n      trackItemSizes,\n      itemSize\n    };\n  },\n  tup(loggerSystem, recalcSystem),\n  { singleton: true }\n);\nconst SUPPORTS_SCROLL_TO_OPTIONS = typeof document !== \"undefined\" && \"scrollBehavior\" in document.documentElement.style;\nfunction normalizeIndexLocation(location) {\n  const result = typeof location === \"number\" ? { index: location } : location;\n  if (!result.align) {\n    result.align = \"start\";\n  }\n  if (!result.behavior || !SUPPORTS_SCROLL_TO_OPTIONS) {\n    result.behavior = \"auto\";\n  }\n  if (!result.offset) {\n    result.offset = 0;\n  }\n  return result;\n}\nconst scrollToIndexSystem = system(\n  ([\n    { sizes, totalCount, listRefresh, gap },\n    {\n      scrollingInProgress,\n      viewportHeight,\n      scrollTo,\n      smoothScrollTargetReached,\n      headerHeight,\n      footerHeight,\n      fixedHeaderHeight,\n      fixedFooterHeight\n    },\n    { log }\n  ]) => {\n    const scrollToIndex = stream();\n    const topListHeight = statefulStream(0);\n    let unsubscribeNextListRefresh = null;\n    let cleartTimeoutRef = null;\n    let unsubscribeListRefresh = null;\n    function cleanup() {\n      if (unsubscribeNextListRefresh) {\n        unsubscribeNextListRefresh();\n        unsubscribeNextListRefresh = null;\n      }\n      if (unsubscribeListRefresh) {\n        unsubscribeListRefresh();\n        unsubscribeListRefresh = null;\n      }\n      if (cleartTimeoutRef) {\n        clearTimeout(cleartTimeoutRef);\n        cleartTimeoutRef = null;\n      }\n      publish(scrollingInProgress, false);\n    }\n    connect(\n      pipe(\n        scrollToIndex,\n        withLatestFrom(sizes, viewportHeight, totalCount, topListHeight, headerHeight, footerHeight, log),\n        withLatestFrom(gap, fixedHeaderHeight, fixedFooterHeight),\n        map(\n          ([\n            [location, sizes2, viewportHeight2, totalCount2, topListHeight2, headerHeight2, footerHeight2, log2],\n            gap2,\n            fixedHeaderHeight2,\n            fixedFooterHeight2\n          ]) => {\n            const normalLocation = normalizeIndexLocation(location);\n            const { align, behavior, offset } = normalLocation;\n            const lastIndex = totalCount2 - 1;\n            const index = originalIndexFromLocation(normalLocation, sizes2, lastIndex);\n            let top = offsetOf(index, sizes2.offsetTree, gap2) + headerHeight2;\n            if (align === \"end\") {\n              top += fixedHeaderHeight2 + findMaxKeyValue(sizes2.sizeTree, index)[1] - viewportHeight2 + fixedFooterHeight2;\n              if (index === lastIndex) {\n                top += footerHeight2;\n              }\n            } else if (align === \"center\") {\n              top += (fixedHeaderHeight2 + findMaxKeyValue(sizes2.sizeTree, index)[1] - viewportHeight2 + fixedFooterHeight2) / 2;\n            } else {\n              top -= topListHeight2;\n            }\n            if (offset) {\n              top += offset;\n            }\n            const retry = (listChanged) => {\n              cleanup();\n              if (listChanged) {\n                log2(\"retrying to scroll to\", { location }, LogLevel.DEBUG);\n                publish(scrollToIndex, location);\n              } else {\n                log2(\"list did not change, scroll successful\", {}, LogLevel.DEBUG);\n              }\n            };\n            cleanup();\n            if (behavior === \"smooth\") {\n              let listChanged = false;\n              unsubscribeListRefresh = subscribe(listRefresh, (changed) => {\n                listChanged = listChanged || changed;\n              });\n              unsubscribeNextListRefresh = handleNext(smoothScrollTargetReached, () => {\n                retry(listChanged);\n              });\n            } else {\n              unsubscribeNextListRefresh = handleNext(pipe(listRefresh, watchChangesFor(150)), retry);\n            }\n            cleartTimeoutRef = setTimeout(() => {\n              cleanup();\n            }, 1200);\n            publish(scrollingInProgress, true);\n            log2(\"scrolling from index to\", { index, top, behavior }, LogLevel.DEBUG);\n            return { top, behavior };\n          }\n        )\n      ),\n      scrollTo\n    );\n    return {\n      scrollToIndex,\n      topListHeight\n    };\n  },\n  tup(sizeSystem, domIOSystem, loggerSystem),\n  { singleton: true }\n);\nfunction watchChangesFor(limit) {\n  return (done) => {\n    const timeoutRef = setTimeout(() => {\n      done(false);\n    }, limit);\n    return (value) => {\n      if (value) {\n        done(true);\n        clearTimeout(timeoutRef);\n      }\n    };\n  };\n}\nconst UP = \"up\";\nconst DOWN = \"down\";\nconst NONE$1 = \"none\";\nconst INITIAL_BOTTOM_STATE = {\n  atBottom: false,\n  notAtBottomBecause: \"NOT_SHOWING_LAST_ITEM\",\n  state: {\n    offsetBottom: 0,\n    scrollTop: 0,\n    viewportHeight: 0,\n    scrollHeight: 0\n  }\n};\nconst DEFAULT_AT_TOP_THRESHOLD = 0;\nconst stateFlagsSystem = system(([{ scrollContainerState, scrollTop, viewportHeight, headerHeight, footerHeight, scrollBy }]) => {\n  const isAtBottom = statefulStream(false);\n  const isAtTop = statefulStream(true);\n  const atBottomStateChange = stream();\n  const atTopStateChange = stream();\n  const atBottomThreshold = statefulStream(4);\n  const atTopThreshold = statefulStream(DEFAULT_AT_TOP_THRESHOLD);\n  const isScrolling = statefulStreamFromEmitter(\n    pipe(\n      merge(pipe(duc(scrollTop), skip(1), mapTo(true)), pipe(duc(scrollTop), skip(1), mapTo(false), debounceTime(100))),\n      distinctUntilChanged()\n    ),\n    false\n  );\n  const isScrollingBy = statefulStreamFromEmitter(\n    pipe(merge(pipe(scrollBy, mapTo(true)), pipe(scrollBy, mapTo(false), debounceTime(200))), distinctUntilChanged()),\n    false\n  );\n  connect(\n    pipe(\n      combineLatest(duc(scrollTop), duc(atTopThreshold)),\n      map(([top, atTopThreshold2]) => top <= atTopThreshold2),\n      distinctUntilChanged()\n    ),\n    isAtTop\n  );\n  connect(pipe(isAtTop, throttleTime(50)), atTopStateChange);\n  const atBottomState = streamFromEmitter(\n    pipe(\n      combineLatest(scrollContainerState, duc(viewportHeight), duc(headerHeight), duc(footerHeight), duc(atBottomThreshold)),\n      scan((current, [{ scrollTop: scrollTop2, scrollHeight }, viewportHeight2, _headerHeight, _footerHeight, atBottomThreshold2]) => {\n        const isAtBottom2 = scrollTop2 + viewportHeight2 - scrollHeight > -atBottomThreshold2;\n        const state = {\n          viewportHeight: viewportHeight2,\n          scrollTop: scrollTop2,\n          scrollHeight\n        };\n        if (isAtBottom2) {\n          let atBottomBecause;\n          let scrollTopDelta;\n          if (scrollTop2 > current.state.scrollTop) {\n            atBottomBecause = \"SCROLLED_DOWN\";\n            scrollTopDelta = current.state.scrollTop - scrollTop2;\n          } else {\n            atBottomBecause = \"SIZE_DECREASED\";\n            scrollTopDelta = current.state.scrollTop - scrollTop2 || current.scrollTopDelta;\n          }\n          return {\n            atBottom: true,\n            state,\n            atBottomBecause,\n            scrollTopDelta\n          };\n        }\n        let notAtBottomBecause;\n        if (state.scrollHeight > current.state.scrollHeight) {\n          notAtBottomBecause = \"SIZE_INCREASED\";\n        } else if (viewportHeight2 < current.state.viewportHeight) {\n          notAtBottomBecause = \"VIEWPORT_HEIGHT_DECREASING\";\n        } else if (scrollTop2 < current.state.scrollTop) {\n          notAtBottomBecause = \"SCROLLING_UPWARDS\";\n        } else {\n          notAtBottomBecause = \"NOT_FULLY_SCROLLED_TO_LAST_ITEM_BOTTOM\";\n        }\n        return {\n          atBottom: false,\n          notAtBottomBecause,\n          state\n        };\n      }, INITIAL_BOTTOM_STATE),\n      distinctUntilChanged((prev, next) => {\n        return prev && prev.atBottom === next.atBottom;\n      })\n    )\n  );\n  const lastJumpDueToItemResize = statefulStreamFromEmitter(\n    pipe(\n      scrollContainerState,\n      scan(\n        (current, { scrollTop: scrollTop2, scrollHeight, viewportHeight: viewportHeight2 }) => {\n          if (!approximatelyEqual(current.scrollHeight, scrollHeight)) {\n            const atBottom = scrollHeight - (scrollTop2 + viewportHeight2) < 1;\n            if (current.scrollTop !== scrollTop2 && atBottom) {\n              return {\n                scrollHeight,\n                scrollTop: scrollTop2,\n                jump: current.scrollTop - scrollTop2,\n                changed: true\n              };\n            } else {\n              return {\n                scrollHeight,\n                scrollTop: scrollTop2,\n                jump: 0,\n                changed: true\n              };\n            }\n          } else {\n            return {\n              scrollTop: scrollTop2,\n              scrollHeight,\n              jump: 0,\n              changed: false\n            };\n          }\n        },\n        { scrollHeight: 0, jump: 0, scrollTop: 0, changed: false }\n      ),\n      filter((value) => value.changed),\n      map((value) => value.jump)\n    ),\n    0\n  );\n  connect(\n    pipe(\n      atBottomState,\n      map((state) => state.atBottom)\n    ),\n    isAtBottom\n  );\n  connect(pipe(isAtBottom, throttleTime(50)), atBottomStateChange);\n  const scrollDirection = statefulStream(DOWN);\n  connect(\n    pipe(\n      scrollContainerState,\n      map(({ scrollTop: scrollTop2 }) => scrollTop2),\n      distinctUntilChanged(),\n      scan(\n        (acc, scrollTop2) => {\n          if (getValue(isScrollingBy)) {\n            return { direction: acc.direction, prevScrollTop: scrollTop2 };\n          }\n          return { direction: scrollTop2 < acc.prevScrollTop ? UP : DOWN, prevScrollTop: scrollTop2 };\n        },\n        { direction: DOWN, prevScrollTop: 0 }\n      ),\n      map((value) => value.direction)\n    ),\n    scrollDirection\n  );\n  connect(pipe(scrollContainerState, throttleTime(50), mapTo(NONE$1)), scrollDirection);\n  const scrollVelocity = statefulStream(0);\n  connect(\n    pipe(\n      isScrolling,\n      filter((value) => !value),\n      // eslint-disable-next-line @typescript-eslint/no-unsafe-argument\n      mapTo(0)\n    ),\n    scrollVelocity\n  );\n  connect(\n    pipe(\n      scrollTop,\n      throttleTime(100),\n      withLatestFrom(isScrolling),\n      filter(([_, isScrolling2]) => !!isScrolling2),\n      scan(([_, prev], [next]) => [prev, next], [0, 0]),\n      map(([prev, next]) => next - prev)\n    ),\n    scrollVelocity\n  );\n  return {\n    isScrolling,\n    isAtTop,\n    isAtBottom,\n    atBottomState,\n    atTopStateChange,\n    atBottomStateChange,\n    scrollDirection,\n    atBottomThreshold,\n    atTopThreshold,\n    scrollVelocity,\n    lastJumpDueToItemResize\n  };\n}, tup(domIOSystem));\nconst propsReadySystem = system(\n  ([{ log }]) => {\n    const propsReady = statefulStream(false);\n    const didMount = streamFromEmitter(\n      pipe(\n        propsReady,\n        filter((ready) => ready),\n        distinctUntilChanged()\n      )\n    );\n    subscribe(propsReady, (value) => {\n      value && getValue(log)(\"props updated\", {}, LogLevel.DEBUG);\n    });\n    return { propsReady, didMount };\n  },\n  tup(loggerSystem),\n  { singleton: true }\n);\nfunction skipFrames(frameCount, callback) {\n  if (frameCount == 0) {\n    callback();\n  } else {\n    requestAnimationFrame(() => skipFrames(frameCount - 1, callback));\n  }\n}\nfunction getInitialTopMostItemIndexNumber(location, totalCount) {\n  const lastIndex = totalCount - 1;\n  const index = typeof location === \"number\" ? location : location.index === \"LAST\" ? lastIndex : location.index;\n  return index;\n}\nconst initialTopMostItemIndexSystem = system(\n  ([{ sizes, listRefresh, defaultItemSize }, { scrollTop }, { scrollToIndex }, { didMount }]) => {\n    const scrolledToInitialItem = statefulStream(true);\n    const initialTopMostItemIndex = statefulStream(0);\n    const scrollScheduled = statefulStream(false);\n    connect(\n      pipe(\n        didMount,\n        withLatestFrom(initialTopMostItemIndex),\n        filter(([_, location]) => !!location),\n        mapTo(false)\n      ),\n      scrolledToInitialItem\n    );\n    subscribe(\n      pipe(\n        combineLatest(listRefresh, didMount),\n        withLatestFrom(scrolledToInitialItem, sizes, defaultItemSize, scrollScheduled),\n        filter(([[, didMount2], scrolledToInitialItem2, { sizeTree }, defaultItemSize2, scrollScheduled2]) => {\n          return didMount2 && (!empty(sizeTree) || isDefined(defaultItemSize2)) && !scrolledToInitialItem2 && !scrollScheduled2;\n        }),\n        withLatestFrom(initialTopMostItemIndex)\n      ),\n      ([, initialTopMostItemIndex2]) => {\n        publish(scrollScheduled, true);\n        skipFrames(3, () => {\n          handleNext(scrollTop, () => publish(scrolledToInitialItem, true));\n          publish(scrollToIndex, initialTopMostItemIndex2);\n        });\n      }\n    );\n    return {\n      scrolledToInitialItem,\n      initialTopMostItemIndex\n    };\n  },\n  tup(sizeSystem, domIOSystem, scrollToIndexSystem, propsReadySystem),\n  { singleton: true }\n);\nfunction normalizeFollowOutput(follow) {\n  if (!follow) {\n    return false;\n  }\n  return follow === \"smooth\" ? \"smooth\" : \"auto\";\n}\nconst behaviorFromFollowOutput = (follow, isAtBottom) => {\n  if (typeof follow === \"function\") {\n    return normalizeFollowOutput(follow(isAtBottom));\n  }\n  return isAtBottom && normalizeFollowOutput(follow);\n};\nconst followOutputSystem = system(\n  ([\n    { totalCount, listRefresh },\n    { isAtBottom, atBottomState },\n    { scrollToIndex },\n    { scrolledToInitialItem },\n    { propsReady, didMount },\n    { log },\n    { scrollingInProgress }\n  ]) => {\n    const followOutput = statefulStream(false);\n    const autoscrollToBottom = stream();\n    let pendingScrollHandle = null;\n    function scrollToBottom(followOutputBehavior) {\n      publish(scrollToIndex, {\n        index: \"LAST\",\n        align: \"end\",\n        behavior: followOutputBehavior\n      });\n    }\n    subscribe(\n      pipe(\n        combineLatest(pipe(duc(totalCount), skip(1)), didMount),\n        withLatestFrom(duc(followOutput), isAtBottom, scrolledToInitialItem, scrollingInProgress),\n        map(([[totalCount2, didMount2], followOutput2, isAtBottom2, scrolledToInitialItem2, scrollingInProgress2]) => {\n          let shouldFollow = didMount2 && scrolledToInitialItem2;\n          let followOutputBehavior = \"auto\";\n          if (shouldFollow) {\n            followOutputBehavior = behaviorFromFollowOutput(followOutput2, isAtBottom2 || scrollingInProgress2);\n            shouldFollow = shouldFollow && !!followOutputBehavior;\n          }\n          return { totalCount: totalCount2, shouldFollow, followOutputBehavior };\n        }),\n        filter(({ shouldFollow }) => shouldFollow)\n      ),\n      ({ totalCount: totalCount2, followOutputBehavior }) => {\n        if (pendingScrollHandle) {\n          pendingScrollHandle();\n          pendingScrollHandle = null;\n        }\n        pendingScrollHandle = handleNext(listRefresh, () => {\n          getValue(log)(\"following output to \", { totalCount: totalCount2 }, LogLevel.DEBUG);\n          scrollToBottom(followOutputBehavior);\n          pendingScrollHandle = null;\n        });\n      }\n    );\n    function trapNextSizeIncrease(followOutput2) {\n      const cancel = handleNext(atBottomState, (state) => {\n        if (followOutput2 && !state.atBottom && state.notAtBottomBecause === \"SIZE_INCREASED\" && !pendingScrollHandle) {\n          getValue(log)(\"scrolling to bottom due to increased size\", {}, LogLevel.DEBUG);\n          scrollToBottom(\"auto\");\n        }\n      });\n      setTimeout(cancel, 100);\n    }\n    subscribe(\n      pipe(\n        combineLatest(duc(followOutput), totalCount, propsReady),\n        filter(([follow, , ready]) => follow && ready),\n        scan(\n          ({ value }, [, next]) => {\n            return { refreshed: value === next, value: next };\n          },\n          { refreshed: false, value: 0 }\n        ),\n        filter(({ refreshed }) => refreshed),\n        withLatestFrom(followOutput, totalCount)\n      ),\n      ([, followOutput2]) => {\n        trapNextSizeIncrease(followOutput2 !== false);\n      }\n    );\n    subscribe(autoscrollToBottom, () => {\n      trapNextSizeIncrease(getValue(followOutput) !== false);\n    });\n    subscribe(combineLatest(duc(followOutput), atBottomState), ([followOutput2, state]) => {\n      if (followOutput2 && !state.atBottom && state.notAtBottomBecause === \"VIEWPORT_HEIGHT_DECREASING\") {\n        scrollToBottom(\"auto\");\n      }\n    });\n    return { followOutput, autoscrollToBottom };\n  },\n  tup(sizeSystem, stateFlagsSystem, scrollToIndexSystem, initialTopMostItemIndexSystem, propsReadySystem, loggerSystem, domIOSystem)\n);\nfunction groupCountsToIndicesAndCount(counts) {\n  return counts.reduce(\n    (acc, groupCount) => {\n      acc.groupIndices.push(acc.totalCount);\n      acc.totalCount += groupCount + 1;\n      return acc;\n    },\n    {\n      totalCount: 0,\n      groupIndices: []\n    }\n  );\n}\nconst groupedListSystem = system(([{ totalCount, groupIndices, sizes }, { scrollTop, headerHeight }]) => {\n  const groupCounts = stream();\n  const topItemsIndexes = stream();\n  const groupIndicesAndCount = streamFromEmitter(pipe(groupCounts, map(groupCountsToIndicesAndCount)));\n  connect(\n    pipe(\n      groupIndicesAndCount,\n      map((value) => value.totalCount)\n    ),\n    totalCount\n  );\n  connect(\n    pipe(\n      groupIndicesAndCount,\n      map((value) => value.groupIndices)\n    ),\n    groupIndices\n  );\n  connect(\n    pipe(\n      combineLatest(scrollTop, sizes, headerHeight),\n      filter(([_, sizes2]) => hasGroups(sizes2)),\n      map(([scrollTop2, state, headerHeight2]) => findMaxKeyValue(state.groupOffsetTree, Math.max(scrollTop2 - headerHeight2, 0), \"v\")[0]),\n      distinctUntilChanged(),\n      map((index) => [index])\n    ),\n    topItemsIndexes\n  );\n  return { groupCounts, topItemsIndexes };\n}, tup(sizeSystem, domIOSystem));\nfunction tupleComparator(prev, current) {\n  return !!(prev && prev[0] === current[0] && prev[1] === current[1]);\n}\nfunction rangeComparator(prev, next) {\n  return !!(prev && prev.startIndex === next.startIndex && prev.endIndex === next.endIndex);\n}\nconst TOP = \"top\";\nconst BOTTOM = \"bottom\";\nconst NONE = \"none\";\nfunction getOverscan(overscan, end, direction) {\n  if (typeof overscan === \"number\") {\n    return direction === UP && end === TOP || direction === DOWN && end === BOTTOM ? overscan : 0;\n  } else {\n    if (direction === UP) {\n      return end === TOP ? overscan.main : overscan.reverse;\n    } else {\n      return end === BOTTOM ? overscan.main : overscan.reverse;\n    }\n  }\n}\nfunction getViewportIncrease(value, end) {\n  return typeof value === \"number\" ? value : value[end] || 0;\n}\nconst sizeRangeSystem = system(\n  ([{ scrollTop, viewportHeight, deviation, headerHeight, fixedHeaderHeight }]) => {\n    const listBoundary = stream();\n    const topListHeight = statefulStream(0);\n    const increaseViewportBy = statefulStream(0);\n    const overscan = statefulStream(0);\n    const visibleRange = statefulStreamFromEmitter(\n      pipe(\n        combineLatest(\n          duc(scrollTop),\n          duc(viewportHeight),\n          duc(headerHeight),\n          duc(listBoundary, tupleComparator),\n          duc(overscan),\n          duc(topListHeight),\n          duc(fixedHeaderHeight),\n          duc(deviation),\n          duc(increaseViewportBy)\n        ),\n        map(\n          ([\n            scrollTop2,\n            viewportHeight2,\n            headerHeight2,\n            [listTop, listBottom],\n            overscan2,\n            topListHeight2,\n            fixedHeaderHeight2,\n            deviation2,\n            increaseViewportBy2\n          ]) => {\n            const top = scrollTop2 - deviation2;\n            const stickyHeaderHeight = topListHeight2 + fixedHeaderHeight2;\n            const headerVisible = Math.max(headerHeight2 - top, 0);\n            let direction = NONE;\n            const topViewportAddition = getViewportIncrease(increaseViewportBy2, TOP);\n            const bottomViewportAddition = getViewportIncrease(increaseViewportBy2, BOTTOM);\n            listTop -= deviation2;\n            listTop += headerHeight2 + fixedHeaderHeight2;\n            listBottom += headerHeight2 + fixedHeaderHeight2;\n            listBottom -= deviation2;\n            if (listTop > scrollTop2 + stickyHeaderHeight - topViewportAddition) {\n              direction = UP;\n            }\n            if (listBottom < scrollTop2 - headerVisible + viewportHeight2 + bottomViewportAddition) {\n              direction = DOWN;\n            }\n            if (direction !== NONE) {\n              return [\n                Math.max(top - headerHeight2 - getOverscan(overscan2, TOP, direction) - topViewportAddition, 0),\n                top - headerVisible - fixedHeaderHeight2 + viewportHeight2 + getOverscan(overscan2, BOTTOM, direction) + bottomViewportAddition\n              ];\n            }\n            return null;\n          }\n        ),\n        filter((value) => value != null),\n        distinctUntilChanged(tupleComparator)\n      ),\n      [0, 0]\n    );\n    return {\n      // input\n      listBoundary,\n      overscan,\n      topListHeight,\n      increaseViewportBy,\n      // output\n      visibleRange\n    };\n  },\n  tup(domIOSystem),\n  { singleton: true }\n);\nfunction probeItemSet(index, sizes, data) {\n  if (hasGroups(sizes)) {\n    const itemIndex = originalIndexFromItemIndex(index, sizes);\n    const groupIndex = findMaxKeyValue(sizes.groupOffsetTree, itemIndex)[0];\n    return [\n      { index: groupIndex, size: 0, offset: 0 },\n      { index: itemIndex, size: 0, offset: 0, data: data && data[0] }\n    ];\n  }\n  return [{ index, size: 0, offset: 0, data: data && data[0] }];\n}\nconst EMPTY_LIST_STATE = {\n  items: [],\n  topItems: [],\n  offsetTop: 0,\n  offsetBottom: 0,\n  top: 0,\n  bottom: 0,\n  topListHeight: 0,\n  totalCount: 0,\n  firstItemIndex: 0\n};\nfunction transposeItems(items, sizes, firstItemIndex) {\n  if (items.length === 0) {\n    return [];\n  }\n  if (!hasGroups(sizes)) {\n    return items.map((item) => ({ ...item, index: item.index + firstItemIndex, originalIndex: item.index }));\n  }\n  const startIndex = items[0].index;\n  const endIndex = items[items.length - 1].index;\n  const transposedItems = [];\n  const groupRanges = rangesWithin(sizes.groupOffsetTree, startIndex, endIndex);\n  let currentRange = void 0;\n  let currentGroupIndex = 0;\n  for (const item of items) {\n    if (!currentRange || currentRange.end < item.index) {\n      currentRange = groupRanges.shift();\n      currentGroupIndex = sizes.groupIndices.indexOf(currentRange.start);\n    }\n    let transposedItem;\n    if (item.index === currentRange.start) {\n      transposedItem = {\n        type: \"group\",\n        index: currentGroupIndex\n      };\n    } else {\n      transposedItem = {\n        index: item.index - (currentGroupIndex + 1) + firstItemIndex,\n        groupIndex: currentGroupIndex\n      };\n    }\n    transposedItems.push({\n      ...transposedItem,\n      size: item.size,\n      offset: item.offset,\n      originalIndex: item.index,\n      data: item.data\n    });\n  }\n  return transposedItems;\n}\nfunction buildListState(items, topItems, totalCount, gap, sizes, firstItemIndex) {\n  const { lastSize, lastOffset, lastIndex } = sizes;\n  let offsetTop = 0;\n  let bottom = 0;\n  if (items.length > 0) {\n    offsetTop = items[0].offset;\n    const lastItem = items[items.length - 1];\n    bottom = lastItem.offset + lastItem.size;\n  }\n  const itemCount = totalCount - lastIndex;\n  const total = lastOffset + itemCount * lastSize + (itemCount - 1) * gap;\n  const top = offsetTop;\n  const offsetBottom = total - bottom;\n  return {\n    items: transposeItems(items, sizes, firstItemIndex),\n    topItems: transposeItems(topItems, sizes, firstItemIndex),\n    topListHeight: topItems.reduce((height, item) => item.size + height, 0),\n    offsetTop,\n    offsetBottom,\n    top,\n    bottom,\n    totalCount,\n    firstItemIndex\n  };\n}\nfunction buildListStateFromItemCount(itemCount, initialTopMostItemIndex, sizes, firstItemIndex, gap, data) {\n  let includedGroupsCount = 0;\n  if (sizes.groupIndices.length > 0) {\n    for (const index of sizes.groupIndices) {\n      if (index - includedGroupsCount >= itemCount) {\n        break;\n      }\n      includedGroupsCount++;\n    }\n  }\n  const adjustedCount = itemCount + includedGroupsCount;\n  const initialTopMostItemIndexNumber = getInitialTopMostItemIndexNumber(initialTopMostItemIndex, adjustedCount);\n  const items = Array.from({ length: adjustedCount }).map((_, index) => ({\n    index: index + initialTopMostItemIndexNumber,\n    size: 0,\n    offset: 0,\n    data: data[index + initialTopMostItemIndexNumber]\n  }));\n  return buildListState(items, [], adjustedCount, gap, sizes, firstItemIndex);\n}\nconst listStateSystem = system(\n  ([\n    { sizes, totalCount, data, firstItemIndex, gap },\n    groupedListSystem2,\n    { visibleRange, listBoundary, topListHeight: rangeTopListHeight },\n    { scrolledToInitialItem, initialTopMostItemIndex },\n    { topListHeight },\n    stateFlags,\n    { didMount },\n    { recalcInProgress }\n  ]) => {\n    const topItemsIndexes = statefulStream([]);\n    const initialItemCount = statefulStream(0);\n    const itemsRendered = stream();\n    connect(groupedListSystem2.topItemsIndexes, topItemsIndexes);\n    const listState = statefulStreamFromEmitter(\n      pipe(\n        combineLatest(\n          didMount,\n          recalcInProgress,\n          duc(visibleRange, tupleComparator),\n          duc(totalCount),\n          duc(sizes),\n          duc(initialTopMostItemIndex),\n          scrolledToInitialItem,\n          duc(topItemsIndexes),\n          duc(firstItemIndex),\n          duc(gap),\n          data\n        ),\n        filter(([mount, recalcInProgress2, , totalCount2, , , , , , , data2]) => {\n          const dataChangeInProgress = data2 && data2.length !== totalCount2;\n          return mount && !recalcInProgress2 && !dataChangeInProgress;\n        }),\n        map(\n          ([\n            ,\n            ,\n            [startOffset, endOffset],\n            totalCount2,\n            sizes2,\n            initialTopMostItemIndex2,\n            scrolledToInitialItem2,\n            topItemsIndexes2,\n            firstItemIndex2,\n            gap2,\n            data2\n          ]) => {\n            const sizesValue = sizes2;\n            const { sizeTree, offsetTree } = sizesValue;\n            const initialItemCountValue = getValue(initialItemCount);\n            if (totalCount2 === 0) {\n              return { ...EMPTY_LIST_STATE, totalCount: totalCount2 };\n            }\n            if (startOffset === 0 && endOffset === 0) {\n              if (initialItemCountValue === 0) {\n                return { ...EMPTY_LIST_STATE, totalCount: totalCount2 };\n              } else {\n                return buildListStateFromItemCount(initialItemCountValue, initialTopMostItemIndex2, sizes2, firstItemIndex2, gap2, data2 || []);\n              }\n            }\n            if (empty(sizeTree)) {\n              if (initialItemCountValue > 0) {\n                return null;\n              }\n              const state = buildListState(\n                probeItemSet(getInitialTopMostItemIndexNumber(initialTopMostItemIndex2, totalCount2), sizesValue, data2),\n                [],\n                totalCount2,\n                gap2,\n                sizesValue,\n                firstItemIndex2\n              );\n              return state;\n            }\n            const topItems = [];\n            if (topItemsIndexes2.length > 0) {\n              const startIndex = topItemsIndexes2[0];\n              const endIndex = topItemsIndexes2[topItemsIndexes2.length - 1];\n              let offset = 0;\n              for (const range of rangesWithin(sizeTree, startIndex, endIndex)) {\n                const size = range.value;\n                const rangeStartIndex = Math.max(range.start, startIndex);\n                const rangeEndIndex = Math.min(range.end, endIndex);\n                for (let i = rangeStartIndex; i <= rangeEndIndex; i++) {\n                  topItems.push({ index: i, size, offset, data: data2 && data2[i] });\n                  offset += size;\n                }\n              }\n            }\n            if (!scrolledToInitialItem2) {\n              return buildListState([], topItems, totalCount2, gap2, sizesValue, firstItemIndex2);\n            }\n            const minStartIndex = topItemsIndexes2.length > 0 ? topItemsIndexes2[topItemsIndexes2.length - 1] + 1 : 0;\n            const offsetPointRanges = rangesWithinOffsets(offsetTree, startOffset, endOffset, minStartIndex);\n            if (offsetPointRanges.length === 0) {\n              return null;\n            }\n            const maxIndex = totalCount2 - 1;\n            const items = tap([], (result) => {\n              for (const range of offsetPointRanges) {\n                const point = range.value;\n                let offset = point.offset;\n                let rangeStartIndex = range.start;\n                const size = point.size;\n                if (point.offset < startOffset) {\n                  rangeStartIndex += Math.floor((startOffset - point.offset + gap2) / (size + gap2));\n                  const itemCount = rangeStartIndex - range.start;\n                  offset += itemCount * size + itemCount * gap2;\n                }\n                if (rangeStartIndex < minStartIndex) {\n                  offset += (minStartIndex - rangeStartIndex) * size;\n                  rangeStartIndex = minStartIndex;\n                }\n                const endIndex = Math.min(range.end, maxIndex);\n                for (let i = rangeStartIndex; i <= endIndex; i++) {\n                  if (offset >= endOffset) {\n                    break;\n                  }\n                  result.push({ index: i, size, offset, data: data2 && data2[i] });\n                  offset += size + gap2;\n                }\n              }\n            });\n            return buildListState(items, topItems, totalCount2, gap2, sizesValue, firstItemIndex2);\n          }\n        ),\n        //@ts-expect-error filter needs to be fixed\n        filter((value) => value !== null),\n        distinctUntilChanged()\n      ),\n      EMPTY_LIST_STATE\n    );\n    connect(\n      pipe(\n        data,\n        filter(isDefined),\n        map((data2) => data2 == null ? void 0 : data2.length)\n      ),\n      totalCount\n    );\n    connect(\n      pipe(\n        listState,\n        map((value) => value.topListHeight)\n      ),\n      topListHeight\n    );\n    connect(topListHeight, rangeTopListHeight);\n    connect(\n      pipe(\n        listState,\n        map((state) => [state.top, state.bottom])\n      ),\n      listBoundary\n    );\n    connect(\n      pipe(\n        listState,\n        map((state) => state.items)\n      ),\n      itemsRendered\n    );\n    const endReached = streamFromEmitter(\n      pipe(\n        listState,\n        filter(({ items }) => items.length > 0),\n        withLatestFrom(totalCount, data),\n        filter(([{ items }, totalCount2]) => items[items.length - 1].originalIndex === totalCount2 - 1),\n        map(([, totalCount2, data2]) => [totalCount2 - 1, data2]),\n        distinctUntilChanged(tupleComparator),\n        map(([count]) => count)\n      )\n    );\n    const startReached = streamFromEmitter(\n      pipe(\n        listState,\n        throttleTime(200),\n        filter(({ items, topItems }) => {\n          return items.length > 0 && items[0].originalIndex === topItems.length;\n        }),\n        map(({ items }) => items[0].index),\n        distinctUntilChanged()\n      )\n    );\n    const rangeChanged = streamFromEmitter(\n      pipe(\n        listState,\n        filter(({ items }) => items.length > 0),\n        map(({ items }) => {\n          let startIndex = 0;\n          let endIndex = items.length - 1;\n          while (items[startIndex].type === \"group\" && startIndex < endIndex) {\n            startIndex++;\n          }\n          while (items[endIndex].type === \"group\" && endIndex > startIndex) {\n            endIndex--;\n          }\n          return {\n            startIndex: items[startIndex].index,\n            endIndex: items[endIndex].index\n          };\n        }),\n        distinctUntilChanged(rangeComparator)\n      )\n    );\n    return { listState, topItemsIndexes, endReached, startReached, rangeChanged, itemsRendered, initialItemCount, ...stateFlags };\n  },\n  tup(\n    sizeSystem,\n    groupedListSystem,\n    sizeRangeSystem,\n    initialTopMostItemIndexSystem,\n    scrollToIndexSystem,\n    stateFlagsSystem,\n    propsReadySystem,\n    recalcSystem\n  ),\n  { singleton: true }\n);\nconst initialItemCountSystem = system(\n  ([{ sizes, firstItemIndex, data, gap }, { initialTopMostItemIndex }, { initialItemCount, listState }, { didMount }]) => {\n    connect(\n      pipe(\n        didMount,\n        withLatestFrom(initialItemCount),\n        filter(([, count]) => count !== 0),\n        withLatestFrom(initialTopMostItemIndex, sizes, firstItemIndex, gap, data),\n        map(([[, count], initialTopMostItemIndexValue, sizes2, firstItemIndex2, gap2, data2 = []]) => {\n          return buildListStateFromItemCount(count, initialTopMostItemIndexValue, sizes2, firstItemIndex2, gap2, data2);\n        })\n      ),\n      listState\n    );\n    return {};\n  },\n  tup(sizeSystem, initialTopMostItemIndexSystem, listStateSystem, propsReadySystem),\n  { singleton: true }\n);\nconst scrollSeekSystem = system(\n  ([{ scrollVelocity }]) => {\n    const isSeeking = statefulStream(false);\n    const rangeChanged = stream();\n    const scrollSeekConfiguration = statefulStream(false);\n    connect(\n      pipe(\n        scrollVelocity,\n        withLatestFrom(scrollSeekConfiguration, isSeeking, rangeChanged),\n        filter(([_, config]) => !!config),\n        map(([speed, config, isSeeking2, range]) => {\n          const { exit, enter } = config;\n          if (isSeeking2) {\n            if (exit(speed, range)) {\n              return false;\n            }\n          } else {\n            if (enter(speed, range)) {\n              return true;\n            }\n          }\n          return isSeeking2;\n        }),\n        distinctUntilChanged()\n      ),\n      isSeeking\n    );\n    subscribe(\n      pipe(combineLatest(isSeeking, scrollVelocity, rangeChanged), withLatestFrom(scrollSeekConfiguration)),\n      ([[isSeeking2, velocity, range], config]) => isSeeking2 && config && config.change && config.change(velocity, range)\n    );\n    return { isSeeking, scrollSeekConfiguration, scrollVelocity, scrollSeekRangeChanged: rangeChanged };\n  },\n  tup(stateFlagsSystem),\n  { singleton: true }\n);\nconst topItemCountSystem = system(([{ topItemsIndexes }]) => {\n  const topItemCount = statefulStream(0);\n  connect(\n    pipe(\n      topItemCount,\n      filter((length) => length > 0),\n      map((length) => Array.from({ length }).map((_, index) => index))\n    ),\n    topItemsIndexes\n  );\n  return { topItemCount };\n}, tup(listStateSystem));\nconst totalListHeightSystem = system(\n  ([{ footerHeight, headerHeight, fixedHeaderHeight, fixedFooterHeight }, { listState }]) => {\n    const totalListHeightChanged = stream();\n    const totalListHeight = statefulStreamFromEmitter(\n      pipe(\n        combineLatest(footerHeight, fixedFooterHeight, headerHeight, fixedHeaderHeight, listState),\n        map(([footerHeight2, fixedFooterHeight2, headerHeight2, fixedHeaderHeight2, listState2]) => {\n          return footerHeight2 + fixedFooterHeight2 + headerHeight2 + fixedHeaderHeight2 + listState2.offsetBottom + listState2.bottom;\n        })\n      ),\n      0\n    );\n    connect(duc(totalListHeight), totalListHeightChanged);\n    return { totalListHeight, totalListHeightChanged };\n  },\n  tup(domIOSystem, listStateSystem),\n  { singleton: true }\n);\nfunction simpleMemoize(func) {\n  let called = false;\n  let result;\n  return () => {\n    if (!called) {\n      called = true;\n      result = func();\n    }\n    return result;\n  };\n}\nconst isMobileSafari = simpleMemoize(() => {\n  return /iP(ad|od|hone)/i.test(navigator.userAgent) && /WebKit/i.test(navigator.userAgent);\n});\nconst upwardScrollFixSystem = system(\n  ([\n    { scrollBy, scrollTop, deviation, scrollingInProgress },\n    { isScrolling, isAtBottom, scrollDirection, lastJumpDueToItemResize },\n    { listState },\n    { beforeUnshiftWith, shiftWithOffset, sizes, gap },\n    { log },\n    { recalcInProgress }\n  ]) => {\n    const deviationOffset = streamFromEmitter(\n      pipe(\n        listState,\n        withLatestFrom(lastJumpDueToItemResize),\n        scan(\n          ([, prevItems, prevTotalCount, prevTotalHeight], [{ items, totalCount, bottom, offsetBottom }, lastJumpDueToItemResize2]) => {\n            const totalHeight = bottom + offsetBottom;\n            let newDev = 0;\n            if (prevTotalCount === totalCount) {\n              if (prevItems.length > 0 && items.length > 0) {\n                const atStart = items[0].originalIndex === 0 && prevItems[0].originalIndex === 0;\n                if (!atStart) {\n                  newDev = totalHeight - prevTotalHeight;\n                  if (newDev !== 0) {\n                    newDev += lastJumpDueToItemResize2;\n                  }\n                }\n              }\n            }\n            return [newDev, items, totalCount, totalHeight];\n          },\n          [0, [], 0, 0]\n        ),\n        filter(([amount]) => amount !== 0),\n        withLatestFrom(scrollTop, scrollDirection, scrollingInProgress, isAtBottom, log, recalcInProgress),\n        filter(([, scrollTop2, scrollDirection2, scrollingInProgress2, , , recalcInProgress2]) => {\n          return !recalcInProgress2 && !scrollingInProgress2 && scrollTop2 !== 0 && scrollDirection2 === UP;\n        }),\n        map(([[amount], , , , , log2]) => {\n          log2(\"Upward scrolling compensation\", { amount }, LogLevel.DEBUG);\n          return amount;\n        })\n      )\n    );\n    function scrollByWith(offset) {\n      if (offset > 0) {\n        publish(scrollBy, { top: -offset, behavior: \"auto\" });\n        publish(deviation, 0);\n      } else {\n        publish(deviation, 0);\n        publish(scrollBy, { top: -offset, behavior: \"auto\" });\n      }\n    }\n    subscribe(pipe(deviationOffset, withLatestFrom(deviation, isScrolling)), ([offset, deviationAmount, isScrolling2]) => {\n      if (isScrolling2 && isMobileSafari()) {\n        publish(deviation, deviationAmount - offset);\n      } else {\n        scrollByWith(-offset);\n      }\n    });\n    subscribe(\n      pipe(\n        combineLatest(statefulStreamFromEmitter(isScrolling, false), deviation, recalcInProgress),\n        filter(([is, deviation2, recalc]) => !is && !recalc && deviation2 !== 0),\n        map(([_, deviation2]) => deviation2),\n        throttleTime(1)\n      ),\n      scrollByWith\n    );\n    connect(\n      pipe(\n        shiftWithOffset,\n        map((offset) => {\n          return { top: -offset };\n        })\n      ),\n      scrollBy\n    );\n    subscribe(\n      pipe(\n        beforeUnshiftWith,\n        withLatestFrom(sizes, gap),\n        map(([offset, { lastSize: defaultItemSize, groupIndices, sizeTree }, gap2]) => {\n          function getItemOffset(itemCount) {\n            return itemCount * (defaultItemSize + gap2);\n          }\n          if (groupIndices.length === 0) {\n            return getItemOffset(offset);\n          } else {\n            let amount = 0;\n            const defaultGroupSize = find(sizeTree, 0);\n            let recognizedOffsetItems = 0;\n            let groupIndex = 0;\n            while (recognizedOffsetItems < offset) {\n              recognizedOffsetItems++;\n              amount += defaultGroupSize;\n              let groupItemCount = groupIndices.length === groupIndex + 1 ? Infinity : groupIndices[groupIndex + 1] - groupIndices[groupIndex] - 1;\n              if (recognizedOffsetItems + groupItemCount > offset) {\n                amount -= defaultGroupSize;\n                groupItemCount = offset - recognizedOffsetItems + 1;\n              }\n              recognizedOffsetItems += groupItemCount;\n              amount += getItemOffset(groupItemCount);\n              groupIndex++;\n            }\n            return amount;\n          }\n        })\n      ),\n      (offset) => {\n        publish(deviation, offset);\n        requestAnimationFrame(() => {\n          publish(scrollBy, { top: offset });\n          requestAnimationFrame(() => {\n            publish(deviation, 0);\n            publish(recalcInProgress, false);\n          });\n        });\n      }\n    );\n    return { deviation };\n  },\n  tup(domIOSystem, stateFlagsSystem, listStateSystem, sizeSystem, loggerSystem, recalcSystem)\n);\nconst initialScrollTopSystem = system(\n  ([{ didMount }, { scrollTo }, { listState }]) => {\n    const initialScrollTop = statefulStream(0);\n    subscribe(\n      pipe(\n        didMount,\n        withLatestFrom(initialScrollTop),\n        filter(([, offset]) => offset !== 0),\n        map(([, offset]) => ({ top: offset }))\n      ),\n      (location) => {\n        handleNext(\n          pipe(\n            listState,\n            skip(1),\n            filter((state) => state.items.length > 1)\n          ),\n          () => {\n            requestAnimationFrame(() => {\n              publish(scrollTo, location);\n            });\n          }\n        );\n      }\n    );\n    return {\n      initialScrollTop\n    };\n  },\n  tup(propsReadySystem, domIOSystem, listStateSystem),\n  { singleton: true }\n);\nconst alignToBottomSystem = system(\n  ([{ viewportHeight }, { totalListHeight }]) => {\n    const alignToBottom = statefulStream(false);\n    const paddingTopAddition = statefulStreamFromEmitter(\n      pipe(\n        combineLatest(alignToBottom, viewportHeight, totalListHeight),\n        filter(([enabled]) => enabled),\n        map(([, viewportHeight2, totalListHeight2]) => {\n          return Math.max(0, viewportHeight2 - totalListHeight2);\n        }),\n        throttleTime(0),\n        distinctUntilChanged()\n      ),\n      0\n    );\n    return { alignToBottom, paddingTopAddition };\n  },\n  tup(domIOSystem, totalListHeightSystem),\n  { singleton: true }\n);\nconst windowScrollerSystem = system(([{ scrollTo, scrollContainerState }]) => {\n  const windowScrollContainerState = stream();\n  const windowViewportRect = stream();\n  const windowScrollTo = stream();\n  const useWindowScroll = statefulStream(false);\n  const customScrollParent = statefulStream(void 0);\n  connect(\n    pipe(\n      combineLatest(windowScrollContainerState, windowViewportRect),\n      map(([{ viewportHeight, scrollTop: windowScrollTop, scrollHeight }, { offsetTop }]) => {\n        return {\n          scrollTop: Math.max(0, windowScrollTop - offsetTop),\n          scrollHeight,\n          viewportHeight\n        };\n      })\n    ),\n    scrollContainerState\n  );\n  connect(\n    pipe(\n      scrollTo,\n      withLatestFrom(windowViewportRect),\n      map(([scrollTo2, { offsetTop }]) => {\n        return {\n          ...scrollTo2,\n          top: scrollTo2.top + offsetTop\n        };\n      })\n    ),\n    windowScrollTo\n  );\n  return {\n    // config\n    useWindowScroll,\n    customScrollParent,\n    // input\n    windowScrollContainerState,\n    windowViewportRect,\n    // signals\n    windowScrollTo\n  };\n}, tup(domIOSystem));\nconst defaultCalculateViewLocation = ({\n  itemTop: itemTop2,\n  itemBottom,\n  viewportTop,\n  viewportBottom,\n  locationParams: { behavior, align, ...rest }\n}) => {\n  if (itemTop2 < viewportTop) {\n    return { ...rest, behavior, align: align != null ? align : \"start\" };\n  }\n  if (itemBottom > viewportBottom) {\n    return { ...rest, behavior, align: align != null ? align : \"end\" };\n  }\n  return null;\n};\nconst scrollIntoViewSystem = system(\n  ([\n    { sizes, totalCount, gap },\n    { scrollTop, viewportHeight, headerHeight, fixedHeaderHeight, fixedFooterHeight, scrollingInProgress },\n    { scrollToIndex }\n  ]) => {\n    const scrollIntoView = stream();\n    connect(\n      pipe(\n        scrollIntoView,\n        withLatestFrom(sizes, viewportHeight, totalCount, headerHeight, fixedHeaderHeight, fixedFooterHeight, scrollTop),\n        withLatestFrom(gap),\n        map(([[viewLocation, sizes2, viewportHeight2, totalCount2, headerHeight2, fixedHeaderHeight2, fixedFooterHeight2, scrollTop2], gap2]) => {\n          const { done, behavior, align, calculateViewLocation = defaultCalculateViewLocation, ...rest } = viewLocation;\n          const actualIndex = originalIndexFromLocation(viewLocation, sizes2, totalCount2 - 1);\n          const itemTop2 = offsetOf(actualIndex, sizes2.offsetTree, gap2) + headerHeight2 + fixedHeaderHeight2;\n          const itemBottom = itemTop2 + findMaxKeyValue(sizes2.sizeTree, actualIndex)[1];\n          const viewportTop = scrollTop2 + fixedHeaderHeight2;\n          const viewportBottom = scrollTop2 + viewportHeight2 - fixedFooterHeight2;\n          const location = calculateViewLocation({\n            itemTop: itemTop2,\n            itemBottom,\n            viewportTop,\n            viewportBottom,\n            locationParams: { behavior, align, ...rest }\n          });\n          if (location) {\n            done && handleNext(\n              pipe(\n                scrollingInProgress,\n                filter((value) => value === false),\n                // skips the initial publish of false, and the cleanup call.\n                // but if scrollingInProgress is true, we skip the initial publish.\n                skip(getValue(scrollingInProgress) ? 1 : 2)\n              ),\n              done\n            );\n          } else {\n            done && done();\n          }\n          return location;\n        }),\n        filter((value) => value !== null)\n      ),\n      scrollToIndex\n    );\n    return {\n      scrollIntoView\n    };\n  },\n  tup(sizeSystem, domIOSystem, scrollToIndexSystem, listStateSystem, loggerSystem),\n  { singleton: true }\n);\nconst stateLoadSystem = system(\n  ([\n    { sizes, sizeRanges },\n    { scrollTop },\n    { initialTopMostItemIndex },\n    { didMount },\n    { useWindowScroll, windowScrollContainerState, windowViewportRect }\n  ]) => {\n    const getState = stream();\n    const restoreStateFrom = statefulStream(void 0);\n    const statefulWindowScrollContainerState = statefulStream(null);\n    const statefulWindowViewportRect = statefulStream(null);\n    connect(windowScrollContainerState, statefulWindowScrollContainerState);\n    connect(windowViewportRect, statefulWindowViewportRect);\n    subscribe(\n      pipe(getState, withLatestFrom(sizes, scrollTop, useWindowScroll, statefulWindowScrollContainerState, statefulWindowViewportRect)),\n      ([callback, sizes2, scrollTop2, useWindowScroll2, windowScrollContainerState2, windowViewportRect2]) => {\n        const ranges = sizeTreeToRanges(sizes2.sizeTree);\n        if (useWindowScroll2 && windowScrollContainerState2 !== null && windowViewportRect2 !== null) {\n          scrollTop2 = windowScrollContainerState2.scrollTop - windowViewportRect2.offsetTop;\n        }\n        callback({ ranges, scrollTop: scrollTop2 });\n      }\n    );\n    connect(pipe(restoreStateFrom, filter(isDefined), map(locationFromSnapshot)), initialTopMostItemIndex);\n    connect(\n      pipe(\n        didMount,\n        withLatestFrom(restoreStateFrom),\n        filter(([, state]) => state !== void 0),\n        distinctUntilChanged(),\n        map(([, snapshot]) => {\n          return snapshot.ranges;\n        })\n      ),\n      sizeRanges\n    );\n    return {\n      getState,\n      restoreStateFrom\n    };\n  },\n  tup(sizeSystem, domIOSystem, initialTopMostItemIndexSystem, propsReadySystem, windowScrollerSystem)\n);\nfunction locationFromSnapshot(snapshot) {\n  return { offset: snapshot.scrollTop, index: 0, align: \"start\" };\n}\nconst featureGroup1System = system(\n  ([\n    sizeRange,\n    initialItemCount,\n    propsReady,\n    scrollSeek,\n    totalListHeight,\n    initialScrollTopSystem2,\n    alignToBottom,\n    windowScroller,\n    scrollIntoView,\n    logger\n  ]) => {\n    return {\n      ...sizeRange,\n      ...initialItemCount,\n      ...propsReady,\n      ...scrollSeek,\n      ...totalListHeight,\n      ...initialScrollTopSystem2,\n      ...alignToBottom,\n      ...windowScroller,\n      ...scrollIntoView,\n      ...logger\n    };\n  },\n  tup(\n    sizeRangeSystem,\n    initialItemCountSystem,\n    propsReadySystem,\n    scrollSeekSystem,\n    totalListHeightSystem,\n    initialScrollTopSystem,\n    alignToBottomSystem,\n    windowScrollerSystem,\n    scrollIntoViewSystem,\n    loggerSystem\n  )\n);\nconst listSystem = system(\n  ([\n    {\n      totalCount,\n      sizeRanges,\n      fixedItemSize,\n      defaultItemSize,\n      trackItemSizes,\n      itemSize,\n      data,\n      firstItemIndex,\n      groupIndices,\n      statefulTotalCount,\n      gap,\n      sizes\n    },\n    { initialTopMostItemIndex, scrolledToInitialItem },\n    domIO,\n    stateLoad,\n    followOutput,\n    { listState, topItemsIndexes, ...flags },\n    { scrollToIndex },\n    _,\n    { topItemCount },\n    { groupCounts },\n    featureGroup1\n  ]) => {\n    connect(flags.rangeChanged, featureGroup1.scrollSeekRangeChanged);\n    connect(\n      pipe(\n        featureGroup1.windowViewportRect,\n        map((value) => value.visibleHeight)\n      ),\n      domIO.viewportHeight\n    );\n    return {\n      // input\n      totalCount,\n      data,\n      firstItemIndex,\n      sizeRanges,\n      initialTopMostItemIndex,\n      scrolledToInitialItem,\n      topItemsIndexes,\n      topItemCount,\n      groupCounts,\n      fixedItemHeight: fixedItemSize,\n      defaultItemHeight: defaultItemSize,\n      gap,\n      ...followOutput,\n      // output\n      statefulTotalCount,\n      listState,\n      scrollToIndex,\n      trackItemSizes,\n      itemSize,\n      groupIndices,\n      // exported from stateFlagsSystem\n      ...flags,\n      // the bag of IO from featureGroup1System\n      ...featureGroup1,\n      ...domIO,\n      sizes,\n      ...stateLoad\n    };\n  },\n  tup(\n    sizeSystem,\n    initialTopMostItemIndexSystem,\n    domIOSystem,\n    stateLoadSystem,\n    followOutputSystem,\n    listStateSystem,\n    scrollToIndexSystem,\n    upwardScrollFixSystem,\n    topItemCountSystem,\n    groupedListSystem,\n    featureGroup1System\n  )\n);\nconst WEBKIT_STICKY = \"-webkit-sticky\";\nconst STICKY = \"sticky\";\nconst positionStickyCssValue = simpleMemoize(() => {\n  if (typeof document === \"undefined\") {\n    return STICKY;\n  }\n  const node = document.createElement(\"div\");\n  node.style.position = WEBKIT_STICKY;\n  return node.style.position === WEBKIT_STICKY ? WEBKIT_STICKY : STICKY;\n});\nfunction useWindowViewportRectRef(callback, customScrollParent) {\n  const viewportInfo = React.useRef(null);\n  const calculateInfo = React.useCallback(\n    (element) => {\n      if (element === null || !element.offsetParent) {\n        return;\n      }\n      const rect = element.getBoundingClientRect();\n      const visibleWidth = rect.width;\n      let visibleHeight, offsetTop;\n      if (customScrollParent) {\n        const customScrollParentRect = customScrollParent.getBoundingClientRect();\n        const deltaTop = rect.top - customScrollParentRect.top;\n        visibleHeight = customScrollParentRect.height - Math.max(0, deltaTop);\n        offsetTop = deltaTop + customScrollParent.scrollTop;\n      } else {\n        visibleHeight = window.innerHeight - Math.max(0, rect.top);\n        offsetTop = rect.top + window.pageYOffset;\n      }\n      viewportInfo.current = {\n        offsetTop,\n        visibleHeight,\n        visibleWidth\n      };\n      callback(viewportInfo.current);\n    },\n    [callback, customScrollParent]\n  );\n  const { callbackRef, ref } = useSizeWithElRef(calculateInfo);\n  const scrollAndResizeEventHandler = React.useCallback(() => {\n    calculateInfo(ref.current);\n  }, [calculateInfo, ref]);\n  React.useEffect(() => {\n    if (customScrollParent) {\n      customScrollParent.addEventListener(\"scroll\", scrollAndResizeEventHandler);\n      const observer = new ResizeObserver(scrollAndResizeEventHandler);\n      observer.observe(customScrollParent);\n      return () => {\n        customScrollParent.removeEventListener(\"scroll\", scrollAndResizeEventHandler);\n        observer.unobserve(customScrollParent);\n      };\n    } else {\n      window.addEventListener(\"scroll\", scrollAndResizeEventHandler);\n      window.addEventListener(\"resize\", scrollAndResizeEventHandler);\n      return () => {\n        window.removeEventListener(\"scroll\", scrollAndResizeEventHandler);\n        window.removeEventListener(\"resize\", scrollAndResizeEventHandler);\n      };\n    }\n  }, [scrollAndResizeEventHandler, customScrollParent]);\n  return callbackRef;\n}\nconst VirtuosoMockContext = React.createContext(void 0);\nconst VirtuosoGridMockContext = React.createContext(void 0);\nfunction identity(value) {\n  return value;\n}\nconst listComponentPropsSystem = /* @__PURE__ */ system(() => {\n  const itemContent = statefulStream((index) => `Item ${index}`);\n  const context = statefulStream(null);\n  const groupContent = statefulStream((index) => `Group ${index}`);\n  const components = statefulStream({});\n  const computeItemKey = statefulStream(identity);\n  const headerFooterTag = statefulStream(\"div\");\n  const scrollerRef = statefulStream(noop);\n  const distinctProp = (propName, defaultValue = null) => {\n    return statefulStreamFromEmitter(\n      pipe(\n        components,\n        map((components2) => components2[propName]),\n        distinctUntilChanged()\n      ),\n      defaultValue\n    );\n  };\n  return {\n    context,\n    itemContent,\n    groupContent,\n    components,\n    computeItemKey,\n    headerFooterTag,\n    scrollerRef,\n    FooterComponent: distinctProp(\"Footer\"),\n    HeaderComponent: distinctProp(\"Header\"),\n    TopItemListComponent: distinctProp(\"TopItemList\"),\n    ListComponent: distinctProp(\"List\", \"div\"),\n    ItemComponent: distinctProp(\"Item\", \"div\"),\n    GroupComponent: distinctProp(\"Group\", \"div\"),\n    ScrollerComponent: distinctProp(\"Scroller\", \"div\"),\n    EmptyPlaceholder: distinctProp(\"EmptyPlaceholder\"),\n    ScrollSeekPlaceholder: distinctProp(\"ScrollSeekPlaceholder\")\n  };\n});\nconst combinedSystem$2 = /* @__PURE__ */ system(([listSystem2, propsSystem]) => {\n  return { ...listSystem2, ...propsSystem };\n}, tup(listSystem, listComponentPropsSystem));\nconst DefaultScrollSeekPlaceholder$1 = ({ height }) => /* @__PURE__ */ React.createElement(\"div\", { style: { height } });\nconst GROUP_STYLE = { position: positionStickyCssValue(), zIndex: 1, overflowAnchor: \"none\" };\nconst ITEM_STYLE$1 = { overflowAnchor: \"none\" };\nconst Items$1 = /* @__PURE__ */ React.memo(function VirtuosoItems({ showTopList = false }) {\n  const listState = useEmitterValue$2(\"listState\");\n  const sizeRanges = usePublisher$2(\"sizeRanges\");\n  const useWindowScroll = useEmitterValue$2(\"useWindowScroll\");\n  const customScrollParent = useEmitterValue$2(\"customScrollParent\");\n  const windowScrollContainerStateCallback = usePublisher$2(\"windowScrollContainerState\");\n  const _scrollContainerStateCallback = usePublisher$2(\"scrollContainerState\");\n  const scrollContainerStateCallback = customScrollParent || useWindowScroll ? windowScrollContainerStateCallback : _scrollContainerStateCallback;\n  const itemContent = useEmitterValue$2(\"itemContent\");\n  const context = useEmitterValue$2(\"context\");\n  const groupContent = useEmitterValue$2(\"groupContent\");\n  const trackItemSizes = useEmitterValue$2(\"trackItemSizes\");\n  const itemSize = useEmitterValue$2(\"itemSize\");\n  const log = useEmitterValue$2(\"log\");\n  const listGap = usePublisher$2(\"gap\");\n  const { callbackRef } = useChangedListContentsSizes(\n    sizeRanges,\n    itemSize,\n    trackItemSizes,\n    showTopList ? noop : scrollContainerStateCallback,\n    log,\n    listGap,\n    customScrollParent\n  );\n  const [deviation, setDeviation] = React.useState(0);\n  useEmitter$2(\"deviation\", (value) => {\n    if (deviation !== value) {\n      setDeviation(value);\n    }\n  });\n  const EmptyPlaceholder = useEmitterValue$2(\"EmptyPlaceholder\");\n  const ScrollSeekPlaceholder = useEmitterValue$2(\"ScrollSeekPlaceholder\") || DefaultScrollSeekPlaceholder$1;\n  const ListComponent = useEmitterValue$2(\"ListComponent\");\n  const ItemComponent = useEmitterValue$2(\"ItemComponent\");\n  const GroupComponent = useEmitterValue$2(\"GroupComponent\");\n  const computeItemKey = useEmitterValue$2(\"computeItemKey\");\n  const isSeeking = useEmitterValue$2(\"isSeeking\");\n  const hasGroups2 = useEmitterValue$2(\"groupIndices\").length > 0;\n  const paddingTopAddition = useEmitterValue$2(\"paddingTopAddition\");\n  const scrolledToInitialItem = useEmitterValue$2(\"scrolledToInitialItem\");\n  const containerStyle = showTopList ? {} : {\n    boxSizing: \"border-box\",\n    paddingTop: listState.offsetTop + paddingTopAddition,\n    paddingBottom: listState.offsetBottom,\n    marginTop: deviation,\n    ...scrolledToInitialItem ? {} : { visibility: \"hidden\" }\n  };\n  if (!showTopList && listState.totalCount === 0 && EmptyPlaceholder) {\n    return React.createElement(EmptyPlaceholder, contextPropIfNotDomElement(EmptyPlaceholder, context));\n  }\n  return React.createElement(\n    ListComponent,\n    {\n      ...contextPropIfNotDomElement(ListComponent, context),\n      ref: callbackRef,\n      style: containerStyle,\n      \"data-test-id\": showTopList ? \"virtuoso-top-item-list\" : \"virtuoso-item-list\"\n    },\n    (showTopList ? listState.topItems : listState.items).map((item) => {\n      const index = item.originalIndex;\n      const key = computeItemKey(index + listState.firstItemIndex, item.data, context);\n      if (isSeeking) {\n        return React.createElement(ScrollSeekPlaceholder, {\n          ...contextPropIfNotDomElement(ScrollSeekPlaceholder, context),\n          key,\n          index: item.index,\n          height: item.size,\n          type: item.type || \"item\",\n          ...item.type === \"group\" ? {} : { groupIndex: item.groupIndex }\n        });\n      }\n      if (item.type === \"group\") {\n        return React.createElement(\n          GroupComponent,\n          {\n            ...contextPropIfNotDomElement(GroupComponent, context),\n            key,\n            \"data-index\": index,\n            \"data-known-size\": item.size,\n            \"data-item-index\": item.index,\n            style: GROUP_STYLE\n          },\n          groupContent(item.index, context)\n        );\n      } else {\n        return React.createElement(\n          ItemComponent,\n          {\n            ...contextPropIfNotDomElement(ItemComponent, context),\n            ...itemPropIfNotDomElement(ItemComponent, item.data),\n            key,\n            \"data-index\": index,\n            \"data-known-size\": item.size,\n            \"data-item-index\": item.index,\n            \"data-item-group-index\": item.groupIndex,\n            style: ITEM_STYLE$1\n          },\n          hasGroups2 ? itemContent(item.index, item.groupIndex, item.data, context) : itemContent(item.index, item.data, context)\n        );\n      }\n    })\n  );\n});\nconst scrollerStyle = {\n  height: \"100%\",\n  outline: \"none\",\n  overflowY: \"auto\",\n  position: \"relative\",\n  WebkitOverflowScrolling: \"touch\"\n};\nconst viewportStyle = {\n  width: \"100%\",\n  height: \"100%\",\n  position: \"absolute\",\n  top: 0\n};\nconst topItemListStyle = {\n  width: \"100%\",\n  position: positionStickyCssValue(),\n  top: 0,\n  zIndex: 1\n};\nfunction contextPropIfNotDomElement(element, context) {\n  if (typeof element === \"string\") {\n    return void 0;\n  }\n  return { context };\n}\nfunction itemPropIfNotDomElement(element, item) {\n  return { item: typeof element === \"string\" ? void 0 : item };\n}\nconst Header$1 = /* @__PURE__ */ React.memo(function VirtuosoHeader() {\n  const Header2 = useEmitterValue$2(\"HeaderComponent\");\n  const headerHeight = usePublisher$2(\"headerHeight\");\n  const headerFooterTag = useEmitterValue$2(\"headerFooterTag\");\n  const ref = useSize((el) => headerHeight(correctItemSize(el, \"height\")));\n  const context = useEmitterValue$2(\"context\");\n  return Header2 ? React.createElement(headerFooterTag, { ref }, React.createElement(Header2, contextPropIfNotDomElement(Header2, context))) : null;\n});\nconst Footer$1 = /* @__PURE__ */ React.memo(function VirtuosoFooter() {\n  const Footer2 = useEmitterValue$2(\"FooterComponent\");\n  const footerHeight = usePublisher$2(\"footerHeight\");\n  const headerFooterTag = useEmitterValue$2(\"headerFooterTag\");\n  const ref = useSize((el) => footerHeight(correctItemSize(el, \"height\")));\n  const context = useEmitterValue$2(\"context\");\n  return Footer2 ? React.createElement(headerFooterTag, { ref }, React.createElement(Footer2, contextPropIfNotDomElement(Footer2, context))) : null;\n});\nfunction buildScroller({ usePublisher: usePublisher2, useEmitter: useEmitter2, useEmitterValue: useEmitterValue2 }) {\n  const Scroller2 = React.memo(function VirtuosoScroller({ style, children, ...props }) {\n    const scrollContainerStateCallback = usePublisher2(\"scrollContainerState\");\n    const ScrollerComponent = useEmitterValue2(\"ScrollerComponent\");\n    const smoothScrollTargetReached = usePublisher2(\"smoothScrollTargetReached\");\n    const scrollerRefCallback = useEmitterValue2(\"scrollerRef\");\n    const context = useEmitterValue2(\"context\");\n    const { scrollerRef, scrollByCallback, scrollToCallback } = useScrollTop(\n      scrollContainerStateCallback,\n      smoothScrollTargetReached,\n      ScrollerComponent,\n      scrollerRefCallback\n    );\n    useEmitter2(\"scrollTo\", scrollToCallback);\n    useEmitter2(\"scrollBy\", scrollByCallback);\n    return React.createElement(\n      ScrollerComponent,\n      {\n        ref: scrollerRef,\n        style: { ...scrollerStyle, ...style },\n        \"data-test-id\": \"virtuoso-scroller\",\n        \"data-virtuoso-scroller\": true,\n        tabIndex: 0,\n        ...props,\n        ...contextPropIfNotDomElement(ScrollerComponent, context)\n      },\n      children\n    );\n  });\n  return Scroller2;\n}\nfunction buildWindowScroller({ usePublisher: usePublisher2, useEmitter: useEmitter2, useEmitterValue: useEmitterValue2 }) {\n  const Scroller2 = React.memo(function VirtuosoWindowScroller({ style, children, ...props }) {\n    const scrollContainerStateCallback = usePublisher2(\"windowScrollContainerState\");\n    const ScrollerComponent = useEmitterValue2(\"ScrollerComponent\");\n    const smoothScrollTargetReached = usePublisher2(\"smoothScrollTargetReached\");\n    const totalListHeight = useEmitterValue2(\"totalListHeight\");\n    const deviation = useEmitterValue2(\"deviation\");\n    const customScrollParent = useEmitterValue2(\"customScrollParent\");\n    const context = useEmitterValue2(\"context\");\n    const { scrollerRef, scrollByCallback, scrollToCallback } = useScrollTop(\n      scrollContainerStateCallback,\n      smoothScrollTargetReached,\n      ScrollerComponent,\n      noop,\n      customScrollParent\n    );\n    useIsomorphicLayoutEffect$1(() => {\n      scrollerRef.current = customScrollParent ? customScrollParent : window;\n      return () => {\n        scrollerRef.current = null;\n      };\n    }, [scrollerRef, customScrollParent]);\n    useEmitter2(\"windowScrollTo\", scrollToCallback);\n    useEmitter2(\"scrollBy\", scrollByCallback);\n    return React.createElement(\n      ScrollerComponent,\n      {\n        style: { position: \"relative\", ...style, ...totalListHeight !== 0 ? { height: totalListHeight + deviation } : {} },\n        \"data-virtuoso-scroller\": true,\n        ...props,\n        ...contextPropIfNotDomElement(ScrollerComponent, context)\n      },\n      children\n    );\n  });\n  return Scroller2;\n}\nconst Viewport$2 = ({ children }) => {\n  const ctx = React.useContext(VirtuosoMockContext);\n  const viewportHeight = usePublisher$2(\"viewportHeight\");\n  const fixedItemHeight = usePublisher$2(\"fixedItemHeight\");\n  const viewportRef = useSize(compose(viewportHeight, (el) => correctItemSize(el, \"height\")));\n  React.useEffect(() => {\n    if (ctx) {\n      viewportHeight(ctx.viewportHeight);\n      fixedItemHeight(ctx.itemHeight);\n    }\n  }, [ctx, viewportHeight, fixedItemHeight]);\n  return /* @__PURE__ */ React.createElement(\"div\", { style: viewportStyle, ref: viewportRef, \"data-viewport-type\": \"element\" }, children);\n};\nconst WindowViewport$2 = ({ children }) => {\n  const ctx = React.useContext(VirtuosoMockContext);\n  const windowViewportRect = usePublisher$2(\"windowViewportRect\");\n  const fixedItemHeight = usePublisher$2(\"fixedItemHeight\");\n  const customScrollParent = useEmitterValue$2(\"customScrollParent\");\n  const viewportRef = useWindowViewportRectRef(windowViewportRect, customScrollParent);\n  React.useEffect(() => {\n    if (ctx) {\n      fixedItemHeight(ctx.itemHeight);\n      windowViewportRect({ offsetTop: 0, visibleHeight: ctx.viewportHeight, visibleWidth: 100 });\n    }\n  }, [ctx, windowViewportRect, fixedItemHeight]);\n  return /* @__PURE__ */ React.createElement(\"div\", { ref: viewportRef, style: viewportStyle, \"data-viewport-type\": \"window\" }, children);\n};\nconst TopItemListContainer = ({ children }) => {\n  const TopItemList = useEmitterValue$2(\"TopItemListComponent\");\n  const headerHeight = useEmitterValue$2(\"headerHeight\");\n  const style = { ...topItemListStyle, marginTop: `${headerHeight}px` };\n  const context = useEmitterValue$2(\"context\");\n  return React.createElement(TopItemList || \"div\", { style, context }, children);\n};\nconst ListRoot = /* @__PURE__ */ React.memo(function VirtuosoRoot(props) {\n  const useWindowScroll = useEmitterValue$2(\"useWindowScroll\");\n  const showTopList = useEmitterValue$2(\"topItemsIndexes\").length > 0;\n  const customScrollParent = useEmitterValue$2(\"customScrollParent\");\n  const TheScroller = customScrollParent || useWindowScroll ? WindowScroller$2 : Scroller$2;\n  const TheViewport = customScrollParent || useWindowScroll ? WindowViewport$2 : Viewport$2;\n  return /* @__PURE__ */ React.createElement(TheScroller, { ...props }, showTopList && /* @__PURE__ */ React.createElement(TopItemListContainer, null, /* @__PURE__ */ React.createElement(Items$1, { showTopList: true })), /* @__PURE__ */ React.createElement(TheViewport, null, /* @__PURE__ */ React.createElement(Header$1, null), /* @__PURE__ */ React.createElement(Items$1, null), /* @__PURE__ */ React.createElement(Footer$1, null)));\n});\nconst {\n  Component: List,\n  usePublisher: usePublisher$2,\n  useEmitterValue: useEmitterValue$2,\n  useEmitter: useEmitter$2\n} = /* @__PURE__ */ systemToComponent(\n  combinedSystem$2,\n  {\n    required: {},\n    optional: {\n      restoreStateFrom: \"restoreStateFrom\",\n      context: \"context\",\n      followOutput: \"followOutput\",\n      itemContent: \"itemContent\",\n      groupContent: \"groupContent\",\n      overscan: \"overscan\",\n      increaseViewportBy: \"increaseViewportBy\",\n      totalCount: \"totalCount\",\n      groupCounts: \"groupCounts\",\n      topItemCount: \"topItemCount\",\n      firstItemIndex: \"firstItemIndex\",\n      initialTopMostItemIndex: \"initialTopMostItemIndex\",\n      components: \"components\",\n      atBottomThreshold: \"atBottomThreshold\",\n      atTopThreshold: \"atTopThreshold\",\n      computeItemKey: \"computeItemKey\",\n      defaultItemHeight: \"defaultItemHeight\",\n      fixedItemHeight: \"fixedItemHeight\",\n      itemSize: \"itemSize\",\n      scrollSeekConfiguration: \"scrollSeekConfiguration\",\n      headerFooterTag: \"headerFooterTag\",\n      data: \"data\",\n      initialItemCount: \"initialItemCount\",\n      initialScrollTop: \"initialScrollTop\",\n      alignToBottom: \"alignToBottom\",\n      useWindowScroll: \"useWindowScroll\",\n      customScrollParent: \"customScrollParent\",\n      scrollerRef: \"scrollerRef\",\n      logLevel: \"logLevel\"\n    },\n    methods: {\n      scrollToIndex: \"scrollToIndex\",\n      scrollIntoView: \"scrollIntoView\",\n      scrollTo: \"scrollTo\",\n      scrollBy: \"scrollBy\",\n      autoscrollToBottom: \"autoscrollToBottom\",\n      getState: \"getState\"\n    },\n    events: {\n      isScrolling: \"isScrolling\",\n      endReached: \"endReached\",\n      startReached: \"startReached\",\n      rangeChanged: \"rangeChanged\",\n      atBottomStateChange: \"atBottomStateChange\",\n      atTopStateChange: \"atTopStateChange\",\n      totalListHeightChanged: \"totalListHeightChanged\",\n      itemsRendered: \"itemsRendered\",\n      groupIndices: \"groupIndices\"\n    }\n  },\n  ListRoot\n);\nconst Scroller$2 = /* @__PURE__ */ buildScroller({ usePublisher: usePublisher$2, useEmitterValue: useEmitterValue$2, useEmitter: useEmitter$2 });\nconst WindowScroller$2 = /* @__PURE__ */ buildWindowScroller({ usePublisher: usePublisher$2, useEmitterValue: useEmitterValue$2, useEmitter: useEmitter$2 });\nconst Virtuoso = List;\nconst GroupedVirtuoso = List;\nconst INITIAL_GRID_STATE = {\n  items: [],\n  offsetBottom: 0,\n  offsetTop: 0,\n  top: 0,\n  bottom: 0,\n  itemHeight: 0,\n  itemWidth: 0\n};\nconst PROBE_GRID_STATE = {\n  items: [{ index: 0 }],\n  offsetBottom: 0,\n  offsetTop: 0,\n  top: 0,\n  bottom: 0,\n  itemHeight: 0,\n  itemWidth: 0\n};\nconst { round, ceil, floor, min, max } = Math;\nfunction buildProbeGridState(items) {\n  return {\n    ...PROBE_GRID_STATE,\n    items\n  };\n}\nfunction buildItems(startIndex, endIndex, data) {\n  return Array.from({ length: endIndex - startIndex + 1 }).map((_, i) => {\n    const dataItem = data === null ? null : data[i + startIndex];\n    return { index: i + startIndex, data: dataItem };\n  });\n}\nfunction gapComparator(prev, next) {\n  return prev && prev.column === next.column && prev.row === next.row;\n}\nfunction dimensionComparator(prev, next) {\n  return prev && prev.width === next.width && prev.height === next.height;\n}\nconst gridSystem = /* @__PURE__ */ system(\n  ([\n    { overscan, visibleRange, listBoundary },\n    { scrollTop, viewportHeight, scrollBy, scrollTo, smoothScrollTargetReached, scrollContainerState, footerHeight, headerHeight },\n    stateFlags,\n    scrollSeek,\n    { propsReady, didMount },\n    { windowViewportRect, useWindowScroll, customScrollParent, windowScrollContainerState, windowScrollTo },\n    log\n  ]) => {\n    const totalCount = statefulStream(0);\n    const initialItemCount = statefulStream(0);\n    const gridState = statefulStream(INITIAL_GRID_STATE);\n    const viewportDimensions = statefulStream({ height: 0, width: 0 });\n    const itemDimensions = statefulStream({ height: 0, width: 0 });\n    const scrollToIndex = stream();\n    const scrollHeight = stream();\n    const deviation = statefulStream(0);\n    const data = statefulStream(null);\n    const gap = statefulStream({ row: 0, column: 0 });\n    const stateChanged = stream();\n    const restoreStateFrom = stream();\n    const stateRestoreInProgress = statefulStream(false);\n    const initialTopMostItemIndex = statefulStream(0);\n    const scrolledToInitialItem = statefulStream(true);\n    const scrollScheduled = statefulStream(false);\n    subscribe(\n      pipe(\n        didMount,\n        withLatestFrom(initialTopMostItemIndex),\n        filter(([_, location]) => !!location)\n      ),\n      () => {\n        publish(scrolledToInitialItem, false);\n        publish(initialItemCount, 0);\n      }\n    );\n    subscribe(\n      pipe(\n        combineLatest(didMount, scrolledToInitialItem, itemDimensions, viewportDimensions, initialTopMostItemIndex, scrollScheduled),\n        filter(([didMount2, scrolledToInitialItem2, itemDimensions2, viewportDimensions2, , scrollScheduled2]) => {\n          return didMount2 && !scrolledToInitialItem2 && itemDimensions2.height !== 0 && viewportDimensions2.height !== 0 && !scrollScheduled2;\n        })\n      ),\n      ([, , , , initialTopMostItemIndex2]) => {\n        publish(scrollScheduled, true);\n        skipFrames(1, () => {\n          publish(scrollToIndex, initialTopMostItemIndex2);\n        });\n        handleNext(pipe(scrollTop), () => {\n          publish(listBoundary, [0, 0]);\n          publish(scrolledToInitialItem, true);\n        });\n      }\n    );\n    connect(\n      pipe(\n        restoreStateFrom,\n        filter((value) => value !== void 0 && value !== null && value.scrollTop > 0),\n        mapTo(0)\n      ),\n      initialItemCount\n    );\n    subscribe(\n      pipe(\n        didMount,\n        withLatestFrom(restoreStateFrom),\n        filter(([, snapshot]) => snapshot !== void 0 && snapshot !== null)\n      ),\n      ([, snapshot]) => {\n        if (!snapshot) {\n          return;\n        }\n        publish(viewportDimensions, snapshot.viewport), publish(itemDimensions, snapshot == null ? void 0 : snapshot.item);\n        publish(gap, snapshot.gap);\n        if (snapshot.scrollTop > 0) {\n          publish(stateRestoreInProgress, true);\n          handleNext(pipe(scrollTop, skip(1)), (_value) => {\n            publish(stateRestoreInProgress, false);\n          });\n          publish(scrollTo, { top: snapshot.scrollTop });\n        }\n      }\n    );\n    connect(\n      pipe(\n        viewportDimensions,\n        map(({ height }) => height)\n      ),\n      viewportHeight\n    );\n    connect(\n      pipe(\n        combineLatest(\n          duc(viewportDimensions, dimensionComparator),\n          duc(itemDimensions, dimensionComparator),\n          duc(gap, (prev, next) => prev && prev.column === next.column && prev.row === next.row),\n          duc(scrollTop)\n        ),\n        map(([viewport, item, gap2, scrollTop2]) => ({\n          viewport,\n          item,\n          gap: gap2,\n          scrollTop: scrollTop2\n        }))\n      ),\n      stateChanged\n    );\n    connect(\n      pipe(\n        combineLatest(\n          duc(totalCount),\n          visibleRange,\n          duc(gap, gapComparator),\n          duc(itemDimensions, dimensionComparator),\n          duc(viewportDimensions, dimensionComparator),\n          duc(data),\n          duc(initialItemCount),\n          duc(stateRestoreInProgress),\n          duc(scrolledToInitialItem),\n          duc(initialTopMostItemIndex)\n        ),\n        filter(([, , , , , , , stateRestoreInProgress2]) => {\n          return !stateRestoreInProgress2;\n        }),\n        map(\n          ([\n            totalCount2,\n            [startOffset, endOffset],\n            gap2,\n            item,\n            viewport,\n            data2,\n            initialItemCount2,\n            ,\n            scrolledToInitialItem2,\n            initialTopMostItemIndex2\n          ]) => {\n            const { row: rowGap, column: columnGap } = gap2;\n            const { height: itemHeight, width: itemWidth } = item;\n            const { width: viewportWidth } = viewport;\n            if (initialItemCount2 === 0 && (totalCount2 === 0 || viewportWidth === 0)) {\n              return INITIAL_GRID_STATE;\n            }\n            if (itemWidth === 0) {\n              const startIndex2 = getInitialTopMostItemIndexNumber(initialTopMostItemIndex2, totalCount2);\n              const endIndex2 = startIndex2 === 0 ? Math.max(initialItemCount2 - 1, 0) : startIndex2;\n              return buildProbeGridState(buildItems(startIndex2, endIndex2, data2));\n            }\n            const perRow = itemsPerRow(viewportWidth, itemWidth, columnGap);\n            let startIndex;\n            let endIndex;\n            if (!scrolledToInitialItem2) {\n              startIndex = 0;\n              endIndex = -1;\n            } else if (startOffset === 0 && endOffset === 0 && initialItemCount2 > 0) {\n              startIndex = 0;\n              endIndex = initialItemCount2 - 1;\n            } else {\n              startIndex = perRow * floor((startOffset + rowGap) / (itemHeight + rowGap));\n              endIndex = perRow * ceil((endOffset + rowGap) / (itemHeight + rowGap)) - 1;\n              endIndex = min(totalCount2 - 1, max(endIndex, perRow - 1));\n              startIndex = min(endIndex, max(0, startIndex));\n            }\n            const items = buildItems(startIndex, endIndex, data2);\n            const { top, bottom } = gridLayout(viewport, gap2, item, items);\n            const rowCount = ceil(totalCount2 / perRow);\n            const totalHeight = rowCount * itemHeight + (rowCount - 1) * rowGap;\n            const offsetBottom = totalHeight - bottom;\n            return { items, offsetTop: top, offsetBottom, top, bottom, itemHeight, itemWidth };\n          }\n        )\n      ),\n      gridState\n    );\n    connect(\n      pipe(\n        data,\n        filter((data2) => data2 !== null),\n        map((data2) => data2.length)\n      ),\n      totalCount\n    );\n    connect(\n      pipe(\n        combineLatest(viewportDimensions, itemDimensions, gridState, gap),\n        filter(([viewportDimensions2, itemDimensions2, { items }]) => {\n          return items.length > 0 && itemDimensions2.height !== 0 && viewportDimensions2.height !== 0;\n        }),\n        map(([viewportDimensions2, itemDimensions2, { items }, gap2]) => {\n          const { top, bottom } = gridLayout(viewportDimensions2, gap2, itemDimensions2, items);\n          return [top, bottom];\n        }),\n        distinctUntilChanged(tupleComparator)\n      ),\n      listBoundary\n    );\n    const hasScrolled = statefulStream(false);\n    connect(\n      pipe(\n        scrollTop,\n        withLatestFrom(hasScrolled),\n        map(([scrollTop2, hasScrolled2]) => {\n          return hasScrolled2 || scrollTop2 !== 0;\n        })\n      ),\n      hasScrolled\n    );\n    const endReached = streamFromEmitter(\n      pipe(\n        duc(gridState),\n        filter(({ items }) => items.length > 0),\n        withLatestFrom(totalCount, hasScrolled),\n        filter(([{ items }, totalCount2, hasScrolled2]) => hasScrolled2 && items[items.length - 1].index === totalCount2 - 1),\n        map(([, totalCount2]) => totalCount2 - 1),\n        distinctUntilChanged()\n      )\n    );\n    const startReached = streamFromEmitter(\n      pipe(\n        duc(gridState),\n        filter(({ items }) => {\n          return items.length > 0 && items[0].index === 0;\n        }),\n        // eslint-disable-next-line @typescript-eslint/no-unsafe-argument\n        mapTo(0),\n        distinctUntilChanged()\n      )\n    );\n    const rangeChanged = streamFromEmitter(\n      pipe(\n        duc(gridState),\n        withLatestFrom(stateRestoreInProgress),\n        filter(([{ items }, stateRestoreInProgress2]) => items.length > 0 && !stateRestoreInProgress2),\n        map(([{ items }]) => {\n          return {\n            startIndex: items[0].index,\n            endIndex: items[items.length - 1].index\n          };\n        }),\n        distinctUntilChanged(rangeComparator),\n        throttleTime(0)\n      )\n    );\n    connect(rangeChanged, scrollSeek.scrollSeekRangeChanged);\n    connect(\n      pipe(\n        scrollToIndex,\n        withLatestFrom(viewportDimensions, itemDimensions, totalCount, gap),\n        map(([location, viewportDimensions2, itemDimensions2, totalCount2, gap2]) => {\n          const normalLocation = normalizeIndexLocation(location);\n          const { align, behavior, offset } = normalLocation;\n          let index = normalLocation.index;\n          if (index === \"LAST\") {\n            index = totalCount2 - 1;\n          }\n          index = max(0, index, min(totalCount2 - 1, index));\n          let top = itemTop(viewportDimensions2, gap2, itemDimensions2, index);\n          if (align === \"end\") {\n            top = round(top - viewportDimensions2.height + itemDimensions2.height);\n          } else if (align === \"center\") {\n            top = round(top - viewportDimensions2.height / 2 + itemDimensions2.height / 2);\n          }\n          if (offset) {\n            top += offset;\n          }\n          return { top, behavior };\n        })\n      ),\n      scrollTo\n    );\n    const totalListHeight = statefulStreamFromEmitter(\n      pipe(\n        gridState,\n        map((gridState2) => {\n          return gridState2.offsetBottom + gridState2.bottom;\n        })\n      ),\n      0\n    );\n    connect(\n      pipe(\n        windowViewportRect,\n        map((viewportInfo) => ({ width: viewportInfo.visibleWidth, height: viewportInfo.visibleHeight }))\n      ),\n      viewportDimensions\n    );\n    return {\n      // input\n      data,\n      totalCount,\n      viewportDimensions,\n      itemDimensions,\n      scrollTop,\n      scrollHeight,\n      overscan,\n      scrollBy,\n      scrollTo,\n      scrollToIndex,\n      smoothScrollTargetReached,\n      windowViewportRect,\n      windowScrollTo,\n      useWindowScroll,\n      customScrollParent,\n      windowScrollContainerState,\n      deviation,\n      scrollContainerState,\n      footerHeight,\n      headerHeight,\n      initialItemCount,\n      gap,\n      restoreStateFrom,\n      ...scrollSeek,\n      initialTopMostItemIndex,\n      // output\n      gridState,\n      totalListHeight,\n      ...stateFlags,\n      startReached,\n      endReached,\n      rangeChanged,\n      stateChanged,\n      propsReady,\n      stateRestoreInProgress,\n      ...log\n    };\n  },\n  tup(sizeRangeSystem, domIOSystem, stateFlagsSystem, scrollSeekSystem, propsReadySystem, windowScrollerSystem, loggerSystem)\n);\nfunction gridLayout(viewport, gap, item, items) {\n  const { height: itemHeight } = item;\n  if (itemHeight === void 0 || items.length === 0) {\n    return { top: 0, bottom: 0 };\n  }\n  const top = itemTop(viewport, gap, item, items[0].index);\n  const bottom = itemTop(viewport, gap, item, items[items.length - 1].index) + itemHeight;\n  return { top, bottom };\n}\nfunction itemTop(viewport, gap, item, index) {\n  const perRow = itemsPerRow(viewport.width, item.width, gap.column);\n  const rowCount = floor(index / perRow);\n  const top = rowCount * item.height + max(0, rowCount - 1) * gap.row;\n  return top > 0 ? top + gap.row : top;\n}\nfunction itemsPerRow(viewportWidth, itemWidth, gap) {\n  return max(1, floor((viewportWidth + gap) / (floor(itemWidth) + gap)));\n}\nconst gridComponentPropsSystem = /* @__PURE__ */ system(() => {\n  const itemContent = statefulStream((index) => `Item ${index}`);\n  const components = statefulStream({});\n  const context = statefulStream(null);\n  const itemClassName = statefulStream(\"virtuoso-grid-item\");\n  const listClassName = statefulStream(\"virtuoso-grid-list\");\n  const computeItemKey = statefulStream(identity);\n  const headerFooterTag = statefulStream(\"div\");\n  const scrollerRef = statefulStream(noop);\n  const distinctProp = (propName, defaultValue = null) => {\n    return statefulStreamFromEmitter(\n      pipe(\n        components,\n        map((components2) => components2[propName]),\n        distinctUntilChanged()\n      ),\n      defaultValue\n    );\n  };\n  return {\n    context,\n    itemContent,\n    components,\n    computeItemKey,\n    itemClassName,\n    listClassName,\n    headerFooterTag,\n    scrollerRef,\n    FooterComponent: distinctProp(\"Footer\"),\n    HeaderComponent: distinctProp(\"Header\"),\n    ListComponent: distinctProp(\"List\", \"div\"),\n    ItemComponent: distinctProp(\"Item\", \"div\"),\n    ScrollerComponent: distinctProp(\"Scroller\", \"div\"),\n    ScrollSeekPlaceholder: distinctProp(\"ScrollSeekPlaceholder\", \"div\")\n  };\n});\nconst combinedSystem$1 = /* @__PURE__ */ system(([gridSystem2, gridComponentPropsSystem2]) => {\n  return { ...gridSystem2, ...gridComponentPropsSystem2 };\n}, tup(gridSystem, gridComponentPropsSystem));\nconst GridItems = /* @__PURE__ */ React.memo(function GridItems2() {\n  const gridState = useEmitterValue$1(\"gridState\");\n  const listClassName = useEmitterValue$1(\"listClassName\");\n  const itemClassName = useEmitterValue$1(\"itemClassName\");\n  const itemContent = useEmitterValue$1(\"itemContent\");\n  const computeItemKey = useEmitterValue$1(\"computeItemKey\");\n  const isSeeking = useEmitterValue$1(\"isSeeking\");\n  const scrollHeightCallback = usePublisher$1(\"scrollHeight\");\n  const ItemComponent = useEmitterValue$1(\"ItemComponent\");\n  const ListComponent = useEmitterValue$1(\"ListComponent\");\n  const ScrollSeekPlaceholder = useEmitterValue$1(\"ScrollSeekPlaceholder\");\n  const context = useEmitterValue$1(\"context\");\n  const itemDimensions = usePublisher$1(\"itemDimensions\");\n  const gridGap = usePublisher$1(\"gap\");\n  const log = useEmitterValue$1(\"log\");\n  const stateRestoreInProgress = useEmitterValue$1(\"stateRestoreInProgress\");\n  const listRef = useSize((el) => {\n    const scrollHeight = el.parentElement.parentElement.scrollHeight;\n    scrollHeightCallback(scrollHeight);\n    const firstItem = el.firstChild;\n    if (firstItem) {\n      const { width, height } = firstItem.getBoundingClientRect();\n      itemDimensions({ width, height });\n    }\n    gridGap({\n      row: resolveGapValue(\"row-gap\", getComputedStyle(el).rowGap, log),\n      column: resolveGapValue(\"column-gap\", getComputedStyle(el).columnGap, log)\n    });\n  });\n  if (stateRestoreInProgress) {\n    return null;\n  }\n  return React.createElement(\n    ListComponent,\n    {\n      ref: listRef,\n      className: listClassName,\n      ...contextPropIfNotDomElement(ListComponent, context),\n      style: { paddingTop: gridState.offsetTop, paddingBottom: gridState.offsetBottom },\n      \"data-test-id\": \"virtuoso-item-list\"\n    },\n    gridState.items.map((item) => {\n      const key = computeItemKey(item.index, item.data, context);\n      return isSeeking ? React.createElement(ScrollSeekPlaceholder, {\n        key,\n        ...contextPropIfNotDomElement(ScrollSeekPlaceholder, context),\n        index: item.index,\n        height: gridState.itemHeight,\n        width: gridState.itemWidth\n      }) : React.createElement(\n        ItemComponent,\n        { ...contextPropIfNotDomElement(ItemComponent, context), className: itemClassName, \"data-index\": item.index, key },\n        itemContent(item.index, item.data, context)\n      );\n    })\n  );\n});\nconst Header = React.memo(function VirtuosoHeader2() {\n  const Header2 = useEmitterValue$1(\"HeaderComponent\");\n  const headerHeight = usePublisher$1(\"headerHeight\");\n  const headerFooterTag = useEmitterValue$1(\"headerFooterTag\");\n  const ref = useSize((el) => headerHeight(correctItemSize(el, \"height\")));\n  const context = useEmitterValue$1(\"context\");\n  return Header2 ? React.createElement(headerFooterTag, { ref }, React.createElement(Header2, contextPropIfNotDomElement(Header2, context))) : null;\n});\nconst Footer = React.memo(function VirtuosoGridFooter() {\n  const Footer2 = useEmitterValue$1(\"FooterComponent\");\n  const footerHeight = usePublisher$1(\"footerHeight\");\n  const headerFooterTag = useEmitterValue$1(\"headerFooterTag\");\n  const ref = useSize((el) => footerHeight(correctItemSize(el, \"height\")));\n  const context = useEmitterValue$1(\"context\");\n  return Footer2 ? React.createElement(headerFooterTag, { ref }, React.createElement(Footer2, contextPropIfNotDomElement(Footer2, context))) : null;\n});\nconst Viewport$1 = ({ children }) => {\n  const ctx = React.useContext(VirtuosoGridMockContext);\n  const itemDimensions = usePublisher$1(\"itemDimensions\");\n  const viewportDimensions = usePublisher$1(\"viewportDimensions\");\n  const viewportRef = useSize((el) => {\n    viewportDimensions(el.getBoundingClientRect());\n  });\n  React.useEffect(() => {\n    if (ctx) {\n      viewportDimensions({ height: ctx.viewportHeight, width: ctx.viewportWidth });\n      itemDimensions({ height: ctx.itemHeight, width: ctx.itemWidth });\n    }\n  }, [ctx, viewportDimensions, itemDimensions]);\n  return /* @__PURE__ */ React.createElement(\"div\", { style: viewportStyle, ref: viewportRef }, children);\n};\nconst WindowViewport$1 = ({ children }) => {\n  const ctx = React.useContext(VirtuosoGridMockContext);\n  const windowViewportRect = usePublisher$1(\"windowViewportRect\");\n  const itemDimensions = usePublisher$1(\"itemDimensions\");\n  const customScrollParent = useEmitterValue$1(\"customScrollParent\");\n  const viewportRef = useWindowViewportRectRef(windowViewportRect, customScrollParent);\n  React.useEffect(() => {\n    if (ctx) {\n      itemDimensions({ height: ctx.itemHeight, width: ctx.itemWidth });\n      windowViewportRect({ offsetTop: 0, visibleHeight: ctx.viewportHeight, visibleWidth: ctx.viewportWidth });\n    }\n  }, [ctx, windowViewportRect, itemDimensions]);\n  return /* @__PURE__ */ React.createElement(\"div\", { ref: viewportRef, style: viewportStyle }, children);\n};\nconst GridRoot = /* @__PURE__ */ React.memo(function GridRoot2({ ...props }) {\n  const useWindowScroll = useEmitterValue$1(\"useWindowScroll\");\n  const customScrollParent = useEmitterValue$1(\"customScrollParent\");\n  const TheScroller = customScrollParent || useWindowScroll ? WindowScroller$1 : Scroller$1;\n  const TheViewport = customScrollParent || useWindowScroll ? WindowViewport$1 : Viewport$1;\n  return /* @__PURE__ */ React.createElement(TheScroller, { ...props }, /* @__PURE__ */ React.createElement(TheViewport, null, /* @__PURE__ */ React.createElement(Header, null), /* @__PURE__ */ React.createElement(GridItems, null), /* @__PURE__ */ React.createElement(Footer, null)));\n});\nconst {\n  Component: Grid,\n  usePublisher: usePublisher$1,\n  useEmitterValue: useEmitterValue$1,\n  useEmitter: useEmitter$1\n} = /* @__PURE__ */ systemToComponent(\n  combinedSystem$1,\n  {\n    optional: {\n      context: \"context\",\n      totalCount: \"totalCount\",\n      overscan: \"overscan\",\n      itemContent: \"itemContent\",\n      components: \"components\",\n      computeItemKey: \"computeItemKey\",\n      data: \"data\",\n      initialItemCount: \"initialItemCount\",\n      scrollSeekConfiguration: \"scrollSeekConfiguration\",\n      headerFooterTag: \"headerFooterTag\",\n      listClassName: \"listClassName\",\n      itemClassName: \"itemClassName\",\n      useWindowScroll: \"useWindowScroll\",\n      customScrollParent: \"customScrollParent\",\n      scrollerRef: \"scrollerRef\",\n      logLevel: \"logLevel\",\n      restoreStateFrom: \"restoreStateFrom\",\n      initialTopMostItemIndex: \"initialTopMostItemIndex\"\n    },\n    methods: {\n      scrollTo: \"scrollTo\",\n      scrollBy: \"scrollBy\",\n      scrollToIndex: \"scrollToIndex\"\n    },\n    events: {\n      isScrolling: \"isScrolling\",\n      endReached: \"endReached\",\n      startReached: \"startReached\",\n      rangeChanged: \"rangeChanged\",\n      atBottomStateChange: \"atBottomStateChange\",\n      atTopStateChange: \"atTopStateChange\",\n      stateChanged: \"stateChanged\"\n    }\n  },\n  GridRoot\n);\nconst Scroller$1 = /* @__PURE__ */ buildScroller({ usePublisher: usePublisher$1, useEmitterValue: useEmitterValue$1, useEmitter: useEmitter$1 });\nconst WindowScroller$1 = /* @__PURE__ */ buildWindowScroller({ usePublisher: usePublisher$1, useEmitterValue: useEmitterValue$1, useEmitter: useEmitter$1 });\nfunction resolveGapValue(property, value, log) {\n  if (value !== \"normal\" && !(value == null ? void 0 : value.endsWith(\"px\"))) {\n    log(`${property} was not resolved to pixel value correctly`, value, LogLevel.WARN);\n  }\n  if (value === \"normal\") {\n    return 0;\n  }\n  return parseInt(value != null ? value : \"0\", 10);\n}\nconst VirtuosoGrid = Grid;\nconst tableComponentPropsSystem = /* @__PURE__ */ system(() => {\n  const itemContent = statefulStream((index) => /* @__PURE__ */ React.createElement(\"td\", null, \"Item $\", index));\n  const context = statefulStream(null);\n  const fixedHeaderContent = statefulStream(null);\n  const fixedFooterContent = statefulStream(null);\n  const components = statefulStream({});\n  const computeItemKey = statefulStream(identity);\n  const scrollerRef = statefulStream(noop);\n  const distinctProp = (propName, defaultValue = null) => {\n    return statefulStreamFromEmitter(\n      pipe(\n        components,\n        map((components2) => components2[propName]),\n        distinctUntilChanged()\n      ),\n      defaultValue\n    );\n  };\n  return {\n    context,\n    itemContent,\n    fixedHeaderContent,\n    fixedFooterContent,\n    components,\n    computeItemKey,\n    scrollerRef,\n    TableComponent: distinctProp(\"Table\", \"table\"),\n    TableHeadComponent: distinctProp(\"TableHead\", \"thead\"),\n    TableFooterComponent: distinctProp(\"TableFoot\", \"tfoot\"),\n    TableBodyComponent: distinctProp(\"TableBody\", \"tbody\"),\n    TableRowComponent: distinctProp(\"TableRow\", \"tr\"),\n    ScrollerComponent: distinctProp(\"Scroller\", \"div\"),\n    EmptyPlaceholder: distinctProp(\"EmptyPlaceholder\"),\n    ScrollSeekPlaceholder: distinctProp(\"ScrollSeekPlaceholder\"),\n    FillerRow: distinctProp(\"FillerRow\")\n  };\n});\nconst combinedSystem = /* @__PURE__ */ system(([listSystem2, propsSystem]) => {\n  return { ...listSystem2, ...propsSystem };\n}, tup(listSystem, tableComponentPropsSystem));\nconst DefaultScrollSeekPlaceholder = ({ height }) => /* @__PURE__ */ React.createElement(\"tr\", null, /* @__PURE__ */ React.createElement(\"td\", { style: { height } }));\nconst DefaultFillerRow = ({ height }) => /* @__PURE__ */ React.createElement(\"tr\", null, /* @__PURE__ */ React.createElement(\"td\", { style: { height, padding: 0, border: 0 } }));\nconst ITEM_STYLE = { overflowAnchor: \"none\" };\nconst Items = /* @__PURE__ */ React.memo(function VirtuosoItems2() {\n  const listState = useEmitterValue(\"listState\");\n  const sizeRanges = usePublisher(\"sizeRanges\");\n  const useWindowScroll = useEmitterValue(\"useWindowScroll\");\n  const customScrollParent = useEmitterValue(\"customScrollParent\");\n  const windowScrollContainerStateCallback = usePublisher(\"windowScrollContainerState\");\n  const _scrollContainerStateCallback = usePublisher(\"scrollContainerState\");\n  const scrollContainerStateCallback = customScrollParent || useWindowScroll ? windowScrollContainerStateCallback : _scrollContainerStateCallback;\n  const itemContent = useEmitterValue(\"itemContent\");\n  const trackItemSizes = useEmitterValue(\"trackItemSizes\");\n  const itemSize = useEmitterValue(\"itemSize\");\n  const log = useEmitterValue(\"log\");\n  const { callbackRef, ref } = useChangedListContentsSizes(\n    sizeRanges,\n    itemSize,\n    trackItemSizes,\n    scrollContainerStateCallback,\n    log,\n    void 0,\n    customScrollParent\n  );\n  const [deviation, setDeviation] = React.useState(0);\n  useEmitter(\"deviation\", (value) => {\n    if (deviation !== value) {\n      ref.current.style.marginTop = `${value}px`;\n      setDeviation(value);\n    }\n  });\n  const EmptyPlaceholder = useEmitterValue(\"EmptyPlaceholder\");\n  const ScrollSeekPlaceholder = useEmitterValue(\"ScrollSeekPlaceholder\") || DefaultScrollSeekPlaceholder;\n  const FillerRow = useEmitterValue(\"FillerRow\") || DefaultFillerRow;\n  const TableBodyComponent = useEmitterValue(\"TableBodyComponent\");\n  const TableRowComponent = useEmitterValue(\"TableRowComponent\");\n  const computeItemKey = useEmitterValue(\"computeItemKey\");\n  const isSeeking = useEmitterValue(\"isSeeking\");\n  const paddingTopAddition = useEmitterValue(\"paddingTopAddition\");\n  const firstItemIndex = useEmitterValue(\"firstItemIndex\");\n  const statefulTotalCount = useEmitterValue(\"statefulTotalCount\");\n  const context = useEmitterValue(\"context\");\n  if (statefulTotalCount === 0 && EmptyPlaceholder) {\n    return React.createElement(EmptyPlaceholder, contextPropIfNotDomElement(EmptyPlaceholder, context));\n  }\n  const paddingTop = listState.offsetTop + paddingTopAddition + deviation;\n  const paddingBottom = listState.offsetBottom;\n  const paddingTopEl = paddingTop > 0 ? /* @__PURE__ */ React.createElement(FillerRow, { height: paddingTop, key: \"padding-top\", context }) : null;\n  const paddingBottomEl = paddingBottom > 0 ? /* @__PURE__ */ React.createElement(FillerRow, { height: paddingBottom, key: \"padding-bottom\", context }) : null;\n  const items = listState.items.map((item) => {\n    const index = item.originalIndex;\n    const key = computeItemKey(index + firstItemIndex, item.data, context);\n    if (isSeeking) {\n      return React.createElement(ScrollSeekPlaceholder, {\n        ...contextPropIfNotDomElement(ScrollSeekPlaceholder, context),\n        key,\n        index: item.index,\n        height: item.size,\n        type: item.type || \"item\"\n      });\n    }\n    return React.createElement(\n      TableRowComponent,\n      {\n        ...contextPropIfNotDomElement(TableRowComponent, context),\n        ...itemPropIfNotDomElement(TableRowComponent, item.data),\n        key,\n        \"data-index\": index,\n        \"data-known-size\": item.size,\n        \"data-item-index\": item.index,\n        style: ITEM_STYLE\n      },\n      itemContent(item.index, item.data, context)\n    );\n  });\n  return React.createElement(\n    TableBodyComponent,\n    { ref: callbackRef, \"data-test-id\": \"virtuoso-item-list\", ...contextPropIfNotDomElement(TableBodyComponent, context) },\n    [paddingTopEl, ...items, paddingBottomEl]\n  );\n});\nconst Viewport = ({ children }) => {\n  const ctx = React.useContext(VirtuosoMockContext);\n  const viewportHeight = usePublisher(\"viewportHeight\");\n  const fixedItemHeight = usePublisher(\"fixedItemHeight\");\n  const viewportRef = useSize(compose(viewportHeight, (el) => correctItemSize(el, \"height\")));\n  React.useEffect(() => {\n    if (ctx) {\n      viewportHeight(ctx.viewportHeight);\n      fixedItemHeight(ctx.itemHeight);\n    }\n  }, [ctx, viewportHeight, fixedItemHeight]);\n  return /* @__PURE__ */ React.createElement(\"div\", { style: viewportStyle, ref: viewportRef, \"data-viewport-type\": \"element\" }, children);\n};\nconst WindowViewport = ({ children }) => {\n  const ctx = React.useContext(VirtuosoMockContext);\n  const windowViewportRect = usePublisher(\"windowViewportRect\");\n  const fixedItemHeight = usePublisher(\"fixedItemHeight\");\n  const customScrollParent = useEmitterValue(\"customScrollParent\");\n  const viewportRef = useWindowViewportRectRef(windowViewportRect, customScrollParent);\n  React.useEffect(() => {\n    if (ctx) {\n      fixedItemHeight(ctx.itemHeight);\n      windowViewportRect({ offsetTop: 0, visibleHeight: ctx.viewportHeight, visibleWidth: 100 });\n    }\n  }, [ctx, windowViewportRect, fixedItemHeight]);\n  return /* @__PURE__ */ React.createElement(\"div\", { ref: viewportRef, style: viewportStyle, \"data-viewport-type\": \"window\" }, children);\n};\nconst TableRoot = /* @__PURE__ */ React.memo(function TableVirtuosoRoot(props) {\n  const useWindowScroll = useEmitterValue(\"useWindowScroll\");\n  const customScrollParent = useEmitterValue(\"customScrollParent\");\n  const fixedHeaderHeight = usePublisher(\"fixedHeaderHeight\");\n  const fixedFooterHeight = usePublisher(\"fixedFooterHeight\");\n  const fixedHeaderContent = useEmitterValue(\"fixedHeaderContent\");\n  const fixedFooterContent = useEmitterValue(\"fixedFooterContent\");\n  const context = useEmitterValue(\"context\");\n  const theadRef = useSize(compose(fixedHeaderHeight, (el) => correctItemSize(el, \"height\")));\n  const tfootRef = useSize(compose(fixedFooterHeight, (el) => correctItemSize(el, \"height\")));\n  const TheScroller = customScrollParent || useWindowScroll ? WindowScroller : Scroller;\n  const TheViewport = customScrollParent || useWindowScroll ? WindowViewport : Viewport;\n  const TheTable = useEmitterValue(\"TableComponent\");\n  const TheTHead = useEmitterValue(\"TableHeadComponent\");\n  const TheTFoot = useEmitterValue(\"TableFooterComponent\");\n  const theHead = fixedHeaderContent ? React.createElement(\n    TheTHead,\n    {\n      key: \"TableHead\",\n      style: { zIndex: 2, position: \"sticky\", top: 0 },\n      ref: theadRef,\n      ...contextPropIfNotDomElement(TheTHead, context)\n    },\n    fixedHeaderContent()\n  ) : null;\n  const theFoot = fixedFooterContent ? React.createElement(\n    TheTFoot,\n    {\n      key: \"TableFoot\",\n      style: { zIndex: 1, position: \"sticky\", bottom: 0 },\n      ref: tfootRef,\n      ...contextPropIfNotDomElement(TheTFoot, context)\n    },\n    fixedFooterContent()\n  ) : null;\n  return /* @__PURE__ */ React.createElement(TheScroller, { ...props }, /* @__PURE__ */ React.createElement(TheViewport, null, React.createElement(\n    TheTable,\n    { style: { borderSpacing: 0, overflowAnchor: \"none\" }, ...contextPropIfNotDomElement(TheTable, context) },\n    [theHead, /* @__PURE__ */ React.createElement(Items, { key: \"TableBody\" }), theFoot]\n  )));\n});\nconst {\n  Component: Table,\n  usePublisher,\n  useEmitterValue,\n  useEmitter\n} = /* @__PURE__ */ systemToComponent(\n  combinedSystem,\n  {\n    required: {},\n    optional: {\n      restoreStateFrom: \"restoreStateFrom\",\n      context: \"context\",\n      followOutput: \"followOutput\",\n      firstItemIndex: \"firstItemIndex\",\n      itemContent: \"itemContent\",\n      fixedHeaderContent: \"fixedHeaderContent\",\n      fixedFooterContent: \"fixedFooterContent\",\n      overscan: \"overscan\",\n      increaseViewportBy: \"increaseViewportBy\",\n      totalCount: \"totalCount\",\n      topItemCount: \"topItemCount\",\n      initialTopMostItemIndex: \"initialTopMostItemIndex\",\n      components: \"components\",\n      groupCounts: \"groupCounts\",\n      atBottomThreshold: \"atBottomThreshold\",\n      atTopThreshold: \"atTopThreshold\",\n      computeItemKey: \"computeItemKey\",\n      defaultItemHeight: \"defaultItemHeight\",\n      fixedItemHeight: \"fixedItemHeight\",\n      itemSize: \"itemSize\",\n      scrollSeekConfiguration: \"scrollSeekConfiguration\",\n      data: \"data\",\n      initialItemCount: \"initialItemCount\",\n      initialScrollTop: \"initialScrollTop\",\n      alignToBottom: \"alignToBottom\",\n      useWindowScroll: \"useWindowScroll\",\n      customScrollParent: \"customScrollParent\",\n      scrollerRef: \"scrollerRef\",\n      logLevel: \"logLevel\"\n    },\n    methods: {\n      scrollToIndex: \"scrollToIndex\",\n      scrollIntoView: \"scrollIntoView\",\n      scrollTo: \"scrollTo\",\n      scrollBy: \"scrollBy\",\n      getState: \"getState\"\n    },\n    events: {\n      isScrolling: \"isScrolling\",\n      endReached: \"endReached\",\n      startReached: \"startReached\",\n      rangeChanged: \"rangeChanged\",\n      atBottomStateChange: \"atBottomStateChange\",\n      atTopStateChange: \"atTopStateChange\",\n      totalListHeightChanged: \"totalListHeightChanged\",\n      itemsRendered: \"itemsRendered\",\n      groupIndices: \"groupIndices\"\n    }\n  },\n  TableRoot\n);\nconst Scroller = /* @__PURE__ */ buildScroller({ usePublisher, useEmitterValue, useEmitter });\nconst WindowScroller = /* @__PURE__ */ buildWindowScroller({ usePublisher, useEmitterValue, useEmitter });\nconst TableVirtuoso = Table;\nexport {\n  GroupedVirtuoso,\n  LogLevel,\n  TableVirtuoso,\n  Virtuoso,\n  VirtuosoGrid,\n  VirtuosoGridMockContext,\n  VirtuosoMockContext\n};\n"],"names":["PUBLISH","SUBSCRIBE","RESET","VALUE","compose","a","b","arg","thrush","proc","curry2to1","arg1","arg2","curry1to0","tap","tup","_len","arguments","length","args","Array","_key","call","always","value","isDefined","noop","subscribe","emitter","subscription","publish","publisher","reset","getValue","depot","connect","handleNext","unsub","stream","subscriptions","action","splice","push","indexOf","slice","forEach","Error","concat","statefulStream","initial","innerSubject","streamFromEmitter","stream2","statefulStreamFromEmitter","pipe","source","_len4","operators","_key4","project","_len3","_key3","subscriber","reduceRight","combineOperators","defaultComparator","previous","next","distinctUntilChanged","current","comparator","undefined","done","filter","predicate","map","mapTo","scan","scanner","skip","times","throttleTime","interval","timeout","currentValue","setTimeout","debounceTime","clearTimeout","withLatestFrom","_len5","sources","_key5","values","called","pendingCall","allCalled","Math","pow","index","bit","prevCalled","call2","merge","_len6","_key6","_len2","procs","_key2","joinProc","duc","combineLatest","_len7","emitters","_key7","system","constructor","dependencies","singleton","id","Symbol","useIsomorphicLayoutEffect$2","document","React","systemToComponent","systemSpec","map2","Root","requiredPropNames","Object","keys","required","optionalPropNames","optional","methodNames","methods","eventNames","events","Context","applyPropsToSystem","system2","props","requiredPropName","optionalPropName","buildEventHandlers","reduce","handlers","eventName","currentSubscription","cleanup","eventHandler","Component","propsWithChildren","ref","children","singletons","Map","_init","_ref","id2","has","get","e","set","init","system22","acc","methodName","buildMethods","Provider","obj","result","idx","len","prop","hasOwnProperty","omit","usePublisher","key","useEmitterValue","setValue","useEmitter","useEmitter2","callback","useIsomorphicLayoutEffect$1","LogLevel","LogLevel2","CONSOLE_METHOD_MAP","loggerSystem","logLevel","log","label","message","level","_a","globalThis","window","console","useSizeWithElRef","enabled","callbackRef","_el","ResizeObserver","observer","entries","element","target","offsetParent","elRef","observe","unobserve","useSize","useChangedListContentsSizes","itemSize","scrollContainerStateCallback","gap","customScrollParent","memoedCallback","el","ranges","field","results","i","child","item","dataset","parseInt","knownSize","parseFloat","size","ERROR","lastResult","endIndex","startIndex","getChangedChildSizes","scrollableElement","parentElement","windowScrolling","lastElementChild","scrollTop","pageYOffset","documentElement","scrollHeight","viewportHeight","offsetHeight","innerHeight","max","property","endsWith","WARN","resolveGapValue$1","getComputedStyle","rowGap","correctItemSize","dimension","round","getBoundingClientRect","approximatelyEqual","num1","num2","abs","useScrollTop","smoothScrollTargetReached","scrollerElement","scrollerRefCallback","scrollerRef","scrollTopTarget","timeoutRef","handler","ev","windowScroll","suppressFlushSync","ReactDOM","localRef","addEventListener","passive","removeEventListener","scrollByCallback","location","scrollBy","scrollToCallback","scrollerElement2","isSmooth","behavior","maxScrollTop","top","ceil","min","scrollTo","domIOSystem","scrollContainerState","deviation","statefulScrollTop","headerHeight","fixedHeaderHeight","fixedFooterHeight","footerHeight","scrollingInProgress","_ref2","scrollTop2","_ref3","scrollHeight2","NIL_NODE","lvl","newAANode","k","v","l","r","empty","node","newTree","remove","lastKey","lastValue","last","adjust","clone","deleteLast","find","findMaxKeyValue","Infinity","Number","insert","rebalance","walkWithin","start","end","walk","isSingle","split","skew","rl","rlvl","rangesWithin","adjustedStart","arrayToRanges","_ref4","items","parser","nextIndex","nextValue","findIndexOfClosestSmallerOrEqual","floor","match","join","findClosestSmallerOrEqual","recalcSystem","recalcInProgress","rangeIncludes","refRange","range","affectedGroupCount","offset","groupIndices","recognizedOffsetItems","groupIndex","indexComparator","_ref5","itemIndex","offsetComparator","_ref6","itemOffset","offsetPointParser","point","rangesWithinOffsets","tree","startOffset","endOffset","minStartIndex","startValue","endValue","findRange","createOffsetTree","prevOffsetTree","syncStart","sizeTree","offsetTree","prevIndex","prevSize","prevOffset","kv","startIndex2","indexOffset","aOffset","lastIndex","lastOffset","lastSize","sizeStateReducer","state","_ref7","DEBUG","newSizeTree","groupSize","overlappingRanges","some","firstPassDone","shouldInsert","rangeStart","rangeEnd","rangeValue","insertRanges","newOffsetTree","groupOffsetTree","offsetOf","itemCount","originalIndexFromLocation","sizes","isGroupLocation","originalIndexFromItemIndex","hasGroups","groupOffset","SIZE_MAP","offsetWidth","sizeSystem","_ref9","sizeRanges","totalCount","statefulTotalCount","unshiftWith","shiftWith","firstItemIndex","fixedItemSize","defaultItemSize","data","prevGroupIndices","prev","curr","_ref10","indexes","_ref11","groupIndices2","sizes2","gap2","_ref12","totalCount2","_ref13","trackItemSizes","listRefresh","_ref14","_ref15","oldSizes","_","newSizes","changed","diff","val","prevGroupIndicesValue","_ref16","log2","beforeUnshiftWith","_ref17","unshiftWith2","groupedMode","initialRanges","defaultSize","firstGroupSize","prependedGroupItemsCount","theGroupIndex","groupItemCount","sizeTreeKV","shift","_ref18","_ref19","shiftWithOffset","_ref20","shiftWith2","_ref21","removedItemsCount","_ref22","_ref23","SUPPORTS_SCROLL_TO_OPTIONS","style","normalizeIndexLocation","align","scrollToIndexSystem","_ref24","scrollToIndex","topListHeight","unsubscribeNextListRefresh","cleartTimeoutRef","unsubscribeListRefresh","_ref25","viewportHeight2","topListHeight2","headerHeight2","footerHeight2","fixedHeaderHeight2","fixedFooterHeight2","normalLocation","retry","listChanged","limit","UP","DOWN","INITIAL_BOTTOM_STATE","atBottom","notAtBottomBecause","offsetBottom","stateFlagsSystem","_ref26","isAtBottom","isAtTop","atBottomStateChange","atTopStateChange","atBottomThreshold","atTopThreshold","isScrolling","isScrollingBy","_ref27","atTopThreshold2","atBottomState","_ref28","_headerHeight","_footerHeight","atBottomThreshold2","atBottomBecause","scrollTopDelta","lastJumpDueToItemResize","_ref29","jump","scrollDirection","_ref30","direction","prevScrollTop","scrollVelocity","_ref31","isScrolling2","_ref32","_ref33","_ref34","propsReadySystem","_ref35","propsReady","didMount","ready","skipFrames","frameCount","requestAnimationFrame","getInitialTopMostItemIndexNumber","initialTopMostItemIndexSystem","_ref36","scrolledToInitialItem","initialTopMostItemIndex","scrollScheduled","_ref37","_ref38","didMount2","scrolledToInitialItem2","defaultItemSize2","scrollScheduled2","_ref39","initialTopMostItemIndex2","normalizeFollowOutput","follow","followOutputSystem","_ref40","followOutput","autoscrollToBottom","pendingScrollHandle","scrollToBottom","followOutputBehavior","trapNextSizeIncrease","followOutput2","cancel","_ref41","isAtBottom2","scrollingInProgress2","shouldFollow","behaviorFromFollowOutput","_ref42","_ref43","_ref44","_ref45","_ref46","refreshed","_ref47","_ref48","_ref49","groupCountsToIndicesAndCount","counts","groupCount","groupedListSystem","_ref50","groupCounts","topItemsIndexes","groupIndicesAndCount","_ref51","_ref52","tupleComparator","rangeComparator","TOP","BOTTOM","NONE","getOverscan","overscan","main","reverse","getViewportIncrease","sizeRangeSystem","_ref53","listBoundary","increaseViewportBy","visibleRange","_ref54","listTop","listBottom","overscan2","deviation2","increaseViewportBy2","stickyHeaderHeight","headerVisible","topViewportAddition","bottomViewportAddition","EMPTY_LIST_STATE","topItems","offsetTop","bottom","transposeItems","originalIndex","transposedItems","groupRanges","currentRange","currentGroupIndex","transposedItem","type","buildListState","lastItem","height","buildListStateFromItemCount","includedGroupsCount","adjustedCount","initialTopMostItemIndexNumber","from","listStateSystem","_ref55","groupedListSystem2","rangeTopListHeight","stateFlags","initialItemCount","itemsRendered","listState","_ref56","mount","recalcInProgress2","data2","dataChangeInProgress","_ref57","topItemsIndexes2","firstItemIndex2","sizesValue","initialItemCountValue","probeItemSet","rangeStartIndex","rangeEndIndex","offsetPointRanges","maxIndex","endReached","_ref58","_ref59","_ref60","_ref61","count","startReached","_ref62","_ref63","rangeChanged","_ref64","_ref65","initialItemCountSystem","_ref66","_ref67","_ref68","initialTopMostItemIndexValue","scrollSeekSystem","_ref69","isSeeking","scrollSeekConfiguration","_ref70","config","_ref71","speed","isSeeking2","exit","enter","_ref72","velocity","change","scrollSeekRangeChanged","topItemCountSystem","_ref73","topItemCount","totalListHeightSystem","_ref74","totalListHeightChanged","totalListHeight","_ref75","listState2","simpleMemoize","func","isMobileSafari","test","navigator","userAgent","upwardScrollFixSystem","_ref76","deviationOffset","_ref77","_ref78","prevItems","prevTotalCount","prevTotalHeight","lastJumpDueToItemResize2","totalHeight","newDev","_ref79","amount","_ref80","scrollDirection2","_ref81","scrollByWith","_ref82","deviationAmount","_ref83","is","recalc","_ref84","_ref85","getItemOffset","defaultGroupSize","initialScrollTopSystem","_ref86","initialScrollTop","_ref87","_ref88","alignToBottomSystem","_ref89","alignToBottom","paddingTopAddition","_ref90","_ref91","totalListHeight2","windowScrollerSystem","_ref92","windowScrollContainerState","windowViewportRect","windowScrollTo","useWindowScroll","_ref93","windowScrollTop","_ref94","scrollTo2","defaultCalculateViewLocation","_ref95","itemTop","itemTop2","itemBottom","viewportTop","viewportBottom","locationParams","rest","scrollIntoViewSystem","_ref96","scrollIntoView","_ref97","viewLocation","calculateViewLocation","actualIndex","stateLoadSystem","_ref98","getState","restoreStateFrom","statefulWindowScrollContainerState","statefulWindowViewportRect","_ref99","useWindowScroll2","windowScrollContainerState2","windowViewportRect2","_ref8","sizeArray","nextSize","locationFromSnapshot","_ref100","_ref101","snapshot","featureGroup1System","_ref102","sizeRange","scrollSeek","initialScrollTopSystem2","windowScroller","logger","listSystem","_ref103","domIO","stateLoad","flags","featureGroup1","visibleHeight","fixedItemHeight","defaultItemHeight","WEBKIT_STICKY","STICKY","positionStickyCssValue","createElement","position","useWindowViewportRectRef","viewportInfo","calculateInfo","rect","visibleWidth","width","customScrollParentRect","deltaTop","scrollAndResizeEventHandler","VirtuosoMockContext","VirtuosoGridMockContext","identity","combinedSystem$2","_ref104","listSystem2","propsSystem","itemContent","context","groupContent","components","computeItemKey","headerFooterTag","distinctProp","propName","defaultValue","components2","FooterComponent","HeaderComponent","TopItemListComponent","ListComponent","ItemComponent","GroupComponent","ScrollerComponent","EmptyPlaceholder","ScrollSeekPlaceholder","DefaultScrollSeekPlaceholder$1","_ref105","GROUP_STYLE","zIndex","overflowAnchor","ITEM_STYLE$1","Items$1","_ref106","showTopList","useEmitterValue$2","usePublisher$2","windowScrollContainerStateCallback","_scrollContainerStateCallback","listGap","setDeviation","useEmitter$2","hasGroups2","containerStyle","boxSizing","paddingTop","paddingBottom","marginTop","visibility","contextPropIfNotDomElement","itemPropIfNotDomElement","scrollerStyle","outline","overflowY","WebkitOverflowScrolling","viewportStyle","topItemListStyle","Header$1","Header2","Footer$1","Footer2","buildScroller","_ref107","usePublisher2","useEmitterValue2","_ref108","tabIndex","buildWindowScroller","_ref109","_ref110","Viewport$2","_ref111","ctx","viewportRef","itemHeight","WindowViewport$2","_ref112","TopItemListContainer","_ref113","TopItemList","ListRoot","TheScroller","WindowScroller$2","Scroller$2","TheViewport","List","INITIAL_GRID_STATE","itemWidth","PROBE_GRID_STATE","buildItems","dataItem","gapComparator","column","row","dimensionComparator","gridSystem","_ref114","gridState","viewportDimensions","itemDimensions","stateChanged","stateRestoreInProgress","_ref115","_ref116","itemDimensions2","viewportDimensions2","_ref117","_ref118","_ref119","viewport","_value","_ref120","_ref121","_ref122","stateRestoreInProgress2","_ref123","initialItemCount2","columnGap","viewportWidth","buildProbeGridState","perRow","itemsPerRow","gridLayout","rowCount","_ref124","_ref125","hasScrolled","_ref126","hasScrolled2","_ref127","_ref128","_ref129","_ref130","_ref131","_ref132","_ref133","gridState2","combinedSystem$1","_ref134","gridSystem2","gridComponentPropsSystem2","itemClassName","listClassName","GridItems","useEmitterValue$1","scrollHeightCallback","usePublisher$1","gridGap","listRef","firstItem","firstChild","resolveGapValue","className","Header","Footer","Viewport$1","_ref135","WindowViewport$1","_ref136","GridRoot","_ref137","WindowScroller$1","Scroller$1","Grid","useEmitter$1","VirtuosoGrid","combinedSystem","_ref138","fixedHeaderContent","fixedFooterContent","TableComponent","TableHeadComponent","TableFooterComponent","TableBodyComponent","TableRowComponent","FillerRow","DefaultScrollSeekPlaceholder","_ref139","DefaultFillerRow","_ref140","padding","border","ITEM_STYLE","Items","paddingTopEl","paddingBottomEl","Viewport","_ref141","WindowViewport","_ref142","TableRoot","theadRef","tfootRef","WindowScroller","Scroller","TheTable","TheTHead","TheTFoot","theHead","theFoot","borderSpacing","Table"],"sourceRoot":""}